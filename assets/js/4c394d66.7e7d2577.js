"use strict";(globalThis.webpackChunkidentus_documentation_portal=globalThis.webpackChunkidentus_documentation_portal||[]).push([[86732],{27139:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>d,contentTitle:()=>s,default:()=>h,frontMatter:()=>t,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"documentation/learn/components/neoprism/running-neoprism","title":"Running NeoPRISM","description":"Overview","source":"@site/documentation/learn/components/neoprism/running-neoprism.md","sourceDirName":"documentation/learn/components/neoprism","slug":"/documentation/learn/components/neoprism/running-neoprism","permalink":"/docs/documentation/learn/components/neoprism/running-neoprism","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"id":"running-neoprism","sidebar_position":2},"sidebar":"learnSidebar","previous":{"title":"NeoPRISM","permalink":"/docs/documentation/learn/components/neoprism/"},"next":{"title":"Overview","permalink":"/docs/documentation/learn/components/cloud-agent/"}}');var a=o(74848),r=o(28453);const t={id:"running-neoprism",sidebar_position:2},s="Running NeoPRISM",d={},l=[{value:"Overview",id:"overview",level:2},{value:"Configuration",id:"configuration",level:2},{value:"Running NeoPRISM",id:"running-neoprism-1",level:2},{value:"Docker Image",id:"docker-image",level:3},{value:"Database Configuration",id:"database-configuration",level:3},{value:"SQLite",id:"sqlite",level:4},{value:"PostgreSQL",id:"postgresql",level:4},{value:"Cardano Network Selection",id:"cardano-network-selection",level:3},{value:"Examples",id:"examples",level:3},{value:"Development Mode",id:"development-mode",level:4},{value:"Indexer Mode",id:"indexer-mode",level:4},{value:"Using Cardano Relay (Oura Backend)",id:"using-cardano-relay-oura-backend",level:5},{value:"Using DBSync Backend",id:"using-dbsync-backend",level:5},{value:"Standalone Mode",id:"standalone-mode",level:4},{value:"Submitter Mode",id:"submitter-mode",level:4}];function c(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"running-neoprism",children:"Running NeoPRISM"})}),"\n",(0,a.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,a.jsxs)(n.p,{children:["NeoPRISM is a Rust-based service for managing PRISM ",(0,a.jsx)(n.a,{href:"/documentation/learn/glossary#decentralized-identifier",children:"Decentralized Identifiers (DIDs)"})," anchored on the Cardano blockchain. It exposes a W3C-compliant HTTP REST API for DID resolution, indexing, and operation submission. The ",(0,a.jsx)(n.a,{href:"/documentation/learn/glossary#cloud-agent",children:"Cloud Agent"})," communicates with NeoPRISM through this API to perform all DID-related operations."]}),"\n",(0,a.jsx)(n.p,{children:"The following documentation explains how to deploy NeoPRISM, including the environment variables required and how to integrate it with the Cloud Agent for both development and production environments."}),"\n",(0,a.jsx)(n.admonition,{type:"note",children:(0,a.jsxs)(n.p,{children:["This documentation provides a high-level overview of running NeoPRISM. For comprehensive deployment guides and internal configuration details, refer to the ",(0,a.jsx)(n.a,{href:"https://hyperledger-identus.github.io/neoprism/",children:"official NeoPRISM documentation"}),"."]})}),"\n",(0,a.jsx)(n.h2,{id:"configuration",children:"Configuration"}),"\n",(0,a.jsx)(n.p,{children:"NeoPRISM is configured through environment variables that correspond to CLI options. The available configuration options vary depending on the deployment mode (dev, standalone, indexer, or submitter)."}),"\n",(0,a.jsxs)(n.p,{children:["For a comprehensive and up-to-date list of all configuration options, environment variables, CLI arguments, default values, and descriptions for each deployment mode, refer to the ",(0,a.jsx)(n.a,{href:"https://hyperledger-identus.github.io/neoprism/references/cli-options.html",children:"official NeoPRISM CLI Options documentation"}),"."]}),"\n",(0,a.jsx)(n.h2,{id:"running-neoprism-1",children:"Running NeoPRISM"}),"\n",(0,a.jsx)(n.h3,{id:"docker-image",children:"Docker Image"}),"\n",(0,a.jsxs)(n.p,{children:["Before running the examples below, set the ",(0,a.jsx)(n.code,{children:"NEOPRISM_VERSION"})," environment variable to specify which version to use (e.g., ",(0,a.jsx)(n.code,{children:"export NEOPRISM_VERSION=0.9.1"}),")."]}),"\n",(0,a.jsx)(n.p,{children:"The NeoPRISM Docker image is available on Docker Hub:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"docker pull hyperledgeridentus/identus-neoprism:$NEOPRISM_VERSION\n"})}),"\n",(0,a.jsx)(n.h3,{id:"database-configuration",children:"Database Configuration"}),"\n",(0,a.jsxs)(n.p,{children:["NeoPRISM supports two database backends configured via the ",(0,a.jsx)(n.code,{children:"NPRISM_DB_URL"})," environment variable:"]}),"\n",(0,a.jsx)(n.h4,{id:"sqlite",children:"SQLite"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# In-memory database (development/testing)\nNPRISM_DB_URL='sqlite::memory:'\n\n# File-based database\nNPRISM_DB_URL='sqlite:/path/to/database.db'\n"})}),"\n",(0,a.jsx)(n.h4,{id:"postgresql",children:"PostgreSQL"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# PostgreSQL connection string\nNPRISM_DB_URL='postgresql://username:password@hostname:5432/database_name'\n"})}),"\n",(0,a.jsx)(n.h3,{id:"cardano-network-selection",children:"Cardano Network Selection"}),"\n",(0,a.jsxs)(n.p,{children:["Set the ",(0,a.jsx)(n.code,{children:"NPRISM_CARDANO_NETWORK"})," environment variable to specify which Cardano network to operate on:"]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"mainnet"}),": Production Cardano network"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"preprod"}),": Pre-production testing network"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"testnet"}),": Legacy testing network"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.strong,{children:"custom"}),": Custom network configuration"]}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"Ensure that the selected network matches your blockchain data source configuration and the Cloud Agent's intended deployment environment."}),"\n",(0,a.jsx)(n.h3,{id:"examples",children:"Examples"}),"\n",(0,a.jsx)(n.h4,{id:"development-mode",children:"Development Mode"}),"\n",(0,a.jsx)(n.p,{children:"For local development and testing with an in-memory database:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"docker run -p 8080:8080 \\\n  -e NPRISM_DB_URL='sqlite::memory:' \\\n  hyperledgeridentus/identus-neoprism:$NEOPRISM_VERSION dev\n"})}),"\n",(0,a.jsx)(n.p,{children:"This example provides a simplified setup ideal for local testing without requiring external dependencies. It uses both an in-memory database and an in-memory blockchain, eliminating the need for external Cardano network connectivity."}),"\n",(0,a.jsx)(n.h4,{id:"indexer-mode",children:"Indexer Mode"}),"\n",(0,a.jsx)(n.p,{children:"The indexer mode synchronizes with the Cardano blockchain and maintains the current state of DIDs. It supports multiple backend options for blockchain synchronization."}),"\n",(0,a.jsx)(n.h5,{id:"using-cardano-relay-oura-backend",children:"Using Cardano Relay (Oura Backend)"}),"\n",(0,a.jsx)(n.p,{children:"For direct synchronization from a Cardano relay node on mainnet:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"docker run -p 8080:8080 \\\n  -e NPRISM_DB_URL='sqlite::memory:' \\\n  -e NPRISM_CARDANO_NETWORK=mainnet \\\n  -e NPRISM_CARDANO_RELAY_ADDR=backbone.mainnet.cardanofoundation.org:3001 \\\n  hyperledgeridentus/identus-neoprism:$NEOPRISM_VERSION indexer\n"})}),"\n",(0,a.jsx)(n.p,{children:"This configuration connects directly to a Cardano relay node for real-time blockchain synchronization."}),"\n",(0,a.jsx)(n.h5,{id:"using-dbsync-backend",children:"Using DBSync Backend"}),"\n",(0,a.jsx)(n.p,{children:"For synchronization using an existing DBSync database on preprod:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"docker run -p 8080:8080 \\\n  -e NPRISM_DB_URL='postgresql://username:password@hostname:5432/database' \\\n  -e NPRISM_CARDANO_NETWORK=preprod \\\n  -e NPRISM_CARDANO_DBSYNC_URL='postgresql://dbsync_user:password@dbsync_host:5432/dbsync_db' \\\n  hyperledgeridentus/identus-neoprism:$NEOPRISM_VERSION indexer\n"})}),"\n",(0,a.jsx)(n.p,{children:"Replace the placeholder values with your actual database credentials and DBSync connection details."}),"\n",(0,a.jsx)(n.h4,{id:"standalone-mode",children:"Standalone Mode"}),"\n",(0,a.jsx)(n.p,{children:"The standalone mode combines both indexer and submitter functionality, providing complete DID management capabilities in a single service."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"docker run -p 8080:8080 \\\n  -e NPRISM_DB_URL='postgresql://username:password@hostname:5432/database' \\\n  -e NPRISM_CARDANO_NETWORK=preprod \\\n  -e NPRISM_CARDANO_RELAY_ADDR=backbone.preprod.cardanofoundation.org:4001 \\\n  -e NPRISM_CARDANO_WALLET_BASE_URL='http://cardano-wallet:8090' \\\n  -e NPRISM_CARDANO_WALLET_WALLET_ID='<wallet-id>' \\\n  -e NPRISM_CARDANO_WALLET_PASSPHRASE='<wallet-passphrase>' \\\n  -e NPRISM_CARDANO_WALLET_PAYMENT_ADDR='<payment-address>' \\\n  hyperledgeridentus/identus-neoprism:$NEOPRISM_VERSION standalone\n"})}),"\n",(0,a.jsxs)(n.p,{children:["Replace the placeholder values (",(0,a.jsx)(n.code,{children:"<wallet-id>"}),", ",(0,a.jsx)(n.code,{children:"<wallet-passphrase>"}),", ",(0,a.jsx)(n.code,{children:"<payment-address>"}),") with your actual Cardano wallet configuration. The database URL and wallet base URL should point to your PostgreSQL database and Cardano wallet service respectively."]}),"\n",(0,a.jsx)(n.h4,{id:"submitter-mode",children:"Submitter Mode"}),"\n",(0,a.jsx)(n.p,{children:"The submitter mode handles the submission of signed DID operations to the Cardano blockchain, typically used in distributed deployments alongside a separate indexer service."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"docker run -p 8080:8080 \\\n  -e NPRISM_CARDANO_WALLET_BASE_URL='http://cardano-wallet:8090' \\\n  -e NPRISM_CARDANO_WALLET_WALLET_ID='<wallet-id>' \\\n  -e NPRISM_CARDANO_WALLET_PASSPHRASE='<wallet-passphrase>' \\\n  -e NPRISM_CARDANO_WALLET_PAYMENT_ADDR='<payment-address>' \\\n  hyperledgeridentus/identus-neoprism:$NEOPRISM_VERSION submitter\n"})}),"\n",(0,a.jsx)(n.p,{children:"Replace the placeholder values with your actual Cardano wallet configuration. This mode requires a separately running indexer instance to provide DID resolution capabilities."})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(c,{...e})}):c(e)}},28453:(e,n,o)=>{o.d(n,{R:()=>t,x:()=>s});var i=o(96540);const a={},r=i.createContext(a);function t(e){const n=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:t(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);