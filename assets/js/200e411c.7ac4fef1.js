"use strict";(globalThis.webpackChunkidentus_documentation_portal=globalThis.webpackChunkidentus_documentation_portal||[]).push([[33889],{28453:(e,r,n)=>{n.d(r,{R:()=>t,x:()=>l});var i=n(96540);const s={},d=i.createContext(s);function t(e){const r=i.useContext(d);return i.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function l(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:t(e.components),i.createElement(d.Provider,{value:r},e.children)}},36025:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>o,contentTitle:()=>l,default:()=>h,frontMatter:()=>t,metadata:()=>i,toc:()=>a});const i=JSON.parse('{"id":"documentation/developers/cloud-agent/vdr","title":"VDR Interface","description":"Overview","source":"@site/documentation/developers/cloud-agent/vdr.md","sourceDirName":"documentation/developers/cloud-agent","slug":"/documentation/developers/cloud-agent/vdr","permalink":"/docs/documentation/developers/cloud-agent/vdr","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"developersSidebar","previous":{"title":"Troubleshooting & Considerations","permalink":"/docs/documentation/developers/cloud-agent/troubleshooting&considerations"}}');var s=n(74848),d=n(28453);const t={},l="VDR Interface",o={},a=[{value:"Overview",id:"overview",level:2},{value:"HTTP Binding",id:"http-binding",level:2},{value:"Selecting VDR Drivers",id:"selecting-vdr-drivers",level:2},{value:"Available Drivers",id:"available-drivers",level:2},{value:"Driver Configuration",id:"driver-configuration",level:3},{value:"PRISM Driver",id:"prism-driver",level:2},{value:"Overview",id:"overview-1",level:3},{value:"Prerequisites",id:"prerequisites",level:3},{value:"Configuration",id:"configuration",level:3},{value:"Core Configuration",id:"core-configuration",level:4},{value:"Network Configuration (choose ONE)",id:"network-configuration-choose-one",level:4},{value:"Optional Configuration",id:"optional-configuration",level:4},{value:"Configuration Examples",id:"configuration-examples",level:3},{value:"Example 1: Public Blockfrost (Mainnet)",id:"example-1-public-blockfrost-mainnet",level:4},{value:"Example 2: Private Network",id:"example-2-private-network",level:4},{value:"Driver Variants",id:"driver-variants",level:3},{value:"1. PRISMDriverInMemory \u2705 Available in Cloud Agent",id:"1-prismdriverinmemory--available-in-cloud-agent",level:4},{value:"2. PRISMDriverMongoDB \u274c Library Integration Only",id:"2-prismdrivermongodb--library-integration-only",level:4},{value:"3. PRISMDriverMongoDBWithIndexer \u274c Library Integration Only",id:"3-prismdrivermongodbwithindexer--library-integration-only",level:4},{value:"Comparison Table",id:"comparison-table",level:4},{value:"Important Considerations",id:"important-considerations",level:3}];function c(e){const r={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,d.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(r.header,{children:(0,s.jsx)(r.h1,{id:"vdr-interface",children:"VDR Interface"})}),"\n",(0,s.jsx)(r.h2,{id:"overview",children:"Overview"}),"\n",(0,s.jsxs)(r.p,{children:["VDR is an interface for performing CRUD and verification operations on a generic data storage driver.\nThe specification is available ",(0,s.jsx)(r.a,{href:"https://github.com/hyperledger-identus/vdr",children:"here"}),",\nalong with a reference implementation provided as a library.\nThe interface defines simple create, read, update, delete, and verify operations, delegating\ntheir execution to an underlying driver. Driver is an actual implementation of a data storage mechanism."]}),"\n",(0,s.jsx)(r.h2,{id:"http-binding",children:"HTTP Binding"}),"\n",(0,s.jsx)(r.p,{children:"Although the VDR implementation is available as a library, it is also integrated into the Cloud Agent\nto expose its functionality via HTTP, supporting use cases where direct library integration is not feasible."}),"\n",(0,s.jsx)(r.p,{children:"The Cloud Agent exposes the VDR functionality through a RESTful style API,\nproviding an interface analogous to direct method calls."}),"\n",(0,s.jsx)(r.p,{children:(0,s.jsx)(r.strong,{children:"Example"})}),"\n",(0,s.jsxs)(r.table,{children:[(0,s.jsx)(r.thead,{children:(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.th,{children:"Operation"}),(0,s.jsx)(r.th,{children:"HTTP Endpoint"})]})}),(0,s.jsxs)(r.tbody,{children:[(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"create(data, options)"})}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"POST /vdr/entries?drid=..."})})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"read(url, options)"})}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"GET /vdr/entries?url=..."})})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"update(url, data, options)"})}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"PUT /vdr/entries?url=..."})})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"delete(url, options)"})}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"DELETE /vdr/entries?url=..."})})]})]})]}),"\n",(0,s.jsx)(r.h2,{id:"selecting-vdr-drivers",children:"Selecting VDR Drivers"}),"\n",(0,s.jsx)(r.p,{children:"The driver is a key component of VDR, providing the actual implementation for the storage backend.\nThe cloud agent acts as a proxy, supporting multiple drivers and allowing users to choose the one that best fits their needs.\nTo select the appropriate driver, specify the following parameters when creating a VDR entry."}),"\n",(0,s.jsxs)(r.table,{children:[(0,s.jsx)(r.thead,{children:(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.th,{children:"Parameters"}),(0,s.jsx)(r.th,{children:"Description"})]})}),(0,s.jsxs)(r.tbody,{children:[(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"drid"})}),(0,s.jsx)(r.td,{children:"Driver ID"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"drf"})}),(0,s.jsx)(r.td,{children:"Driver family"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"drv"})}),(0,s.jsx)(r.td,{children:"Driver version"})]})]})]}),"\n",(0,s.jsxs)(r.p,{children:["For a full range of parameters and driver options, please refer to the ",(0,s.jsx)(r.a,{href:"https://github.com/hyperledger-identus/vdr",children:"VDR specification"}),"."]}),"\n",(0,s.jsx)(r.h2,{id:"available-drivers",children:"Available Drivers"}),"\n",(0,s.jsx)(r.p,{children:"The Cloud Agent supports multiple VDR drivers for different use cases:"}),"\n",(0,s.jsxs)(r.table,{children:[(0,s.jsx)(r.thead,{children:(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.th,{children:"Driver"}),(0,s.jsx)(r.th,{children:"ID"}),(0,s.jsx)(r.th,{children:"Family"}),(0,s.jsx)(r.th,{children:"Version"}),(0,s.jsx)(r.th,{children:"Description"}),(0,s.jsx)(r.th,{children:"Use Case"})]})}),(0,s.jsxs)(r.tbody,{children:[(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:"In-memory"}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"memory"})}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"memory"})}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"0.1.0"})}),(0,s.jsx)(r.td,{children:"Ephemeral in-memory storage"}),(0,s.jsx)(r.td,{children:"Testing, non-persistent data"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:"Database"}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"database"})}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"database"})}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"0.1.0"})}),(0,s.jsx)(r.td,{children:"Local database storage"}),(0,s.jsx)(r.td,{children:"Development, testing"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:"PRISM"}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"PRISMDriverInMemory"})}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"PRISM"})}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"1.0"})}),(0,s.jsx)(r.td,{children:"Cardano blockchain storage"}),(0,s.jsx)(r.td,{children:"Blockchain-backed, public verification"})]})]})]}),"\n",(0,s.jsx)(r.h3,{id:"driver-configuration",children:"Driver Configuration"}),"\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"Memory Driver"}),": Enable with ",(0,s.jsx)(r.code,{children:"VDR_MEMORY_DRIVER_ENABLED=true"}),". No additional configuration required."]}),"\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"Database Driver"}),": Enable with ",(0,s.jsx)(r.code,{children:"VDR_DATABASE_DRIVER_ENABLED=true"}),". Uses the Cloud Agent's existing database configuration."]}),"\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"PRISM Driver"}),": See the ",(0,s.jsx)(r.a,{href:"#prism-driver",children:"PRISM Driver"})," section below."]}),"\n",(0,s.jsxs)(r.p,{children:["For all VDR environment variables, see the ",(0,s.jsx)(r.a,{href:"/docs/documentation/developers/cloud-agent/environment-variables",children:"Environment Variables"})," documentation."]}),"\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"Choosing a driver"}),":"]}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"Development/Testing"}),": Use ",(0,s.jsx)(r.code,{children:"memory"})," or ",(0,s.jsx)(r.code,{children:"database"})," drivers for fast iteration without blockchain overhead"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"Blockchain-backed storage"}),": Use ",(0,s.jsx)(r.code,{children:"PRISM"})," driver for decentralized, permanent, publicly verifiable storage"]}),"\n"]}),"\n",(0,s.jsx)(r.h2,{id:"prism-driver",children:"PRISM Driver"}),"\n",(0,s.jsx)(r.h3,{id:"overview-1",children:"Overview"}),"\n",(0,s.jsx)(r.p,{children:"The PRISM driver stores data on the Cardano blockchain, providing decentralized, permanent, and verifiable storage. Unlike the in-memory and database drivers which store data locally for testing, the PRISM driver offers blockchain-backed guarantees suitable for deployments requiring blockchain permanence."}),"\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"Key capabilities"}),":"]}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"Data stored on Cardano blockchain, not controlled by any single entity"}),"\n",(0,s.jsx)(r.li,{children:"Permanent, immutable storage that persists beyond agent lifecycle"}),"\n",(0,s.jsx)(r.li,{children:"Publicly verifiable by anyone with blockchain access"}),"\n",(0,s.jsx)(r.li,{children:"Designed for scenarios requiring blockchain auditability"}),"\n"]}),"\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"Best suited for"}),":"]}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"Deployments requiring public, decentralized verification"}),"\n",(0,s.jsx)(r.li,{children:"Credential status lists that must remain accessible indefinitely"}),"\n",(0,s.jsx)(r.li,{children:"Use cases with regulatory requirements for tamper-proof storage"}),"\n"]}),"\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"For development"}),": Use the in-memory or database drivers for faster iteration without blockchain transaction costs and delays."]}),"\n",(0,s.jsx)(r.h3,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,s.jsx)(r.p,{children:"Before enabling the PRISM driver, ensure you have:"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"Active PRISM DID"}),": A ",(0,s.jsx)(r.code,{children:"did:prism:"})," identifier with an active VDR key"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"Cardano Wallet"}),": A wallet mnemonic phrase (24 words) for blockchain transactions"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"VDR Private Key"}),": A Secp256k1 private key (in hexadecimal format) of an active VDR key of the DID"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"Blockfrost Access"}),": Either:","\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"A Blockfrost API key for public networks (mainnet, preprod, preview), OR"}),"\n",(0,s.jsx)(r.li,{children:"A private Blockfrost instance URL and protocol magic number"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"State Directory"}),": A filesystem directory with read/write permissions for the indexed VDR state"]}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"configuration",children:"Configuration"}),"\n",(0,s.jsx)(r.p,{children:"Configure the PRISM driver using these environment variables:"}),"\n",(0,s.jsx)(r.h4,{id:"core-configuration",children:"Core Configuration"}),"\n",(0,s.jsxs)(r.table,{children:[(0,s.jsx)(r.thead,{children:(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.th,{children:"Variable"}),(0,s.jsx)(r.th,{children:"Required?"}),(0,s.jsx)(r.th,{children:"Description"}),(0,s.jsx)(r.th,{children:"Example/Default"})]})}),(0,s.jsxs)(r.tbody,{children:[(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"VDR_PRISM_DRIVER_ENABLED"})}),(0,s.jsx)(r.td,{children:"\u2705 Yes"}),(0,s.jsx)(r.td,{children:"Enable the PRISM VDR driver"}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"true"})})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"VDR_PRISM_DRIVER_DID_PRISM"})}),(0,s.jsx)(r.td,{children:"\u2705 Yes"}),(0,s.jsx)(r.td,{children:"DID that owns the data (must have active VDR key)"}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"did:prism:abc123..."})})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"VDR_PRISM_DRIVER_VDR_PRIVATE_KEY"})}),(0,s.jsx)(r.td,{children:"\u2705 Yes"}),(0,s.jsx)(r.td,{children:"VDR private key in hexadecimal format"}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"a1b2c3d4e5f6..."})})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"VDR_PRISM_DRIVER_WALLET_MNEMONIC"})}),(0,s.jsx)(r.td,{children:"\u2705 Yes"}),(0,s.jsx)(r.td,{children:"Wallet mnemonic phrase (space-separated, 24 words)"}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"word1 word2 ... word24"})})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"VDR_PRISM_DRIVER_VDR_STATE_DIR"})}),(0,s.jsx)(r.td,{children:"\u2705 Yes"}),(0,s.jsx)(r.td,{children:"Directory path for indexer state storage"}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"/var/lib/cloud-agent/vdr-state"})})]})]})]}),"\n",(0,s.jsx)(r.h4,{id:"network-configuration-choose-one",children:"Network Configuration (choose ONE)"}),"\n",(0,s.jsxs)(r.table,{children:[(0,s.jsx)(r.thead,{children:(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.th,{children:"Variable"}),(0,s.jsx)(r.th,{children:"Required?"}),(0,s.jsx)(r.th,{children:"Description"}),(0,s.jsx)(r.th,{children:"Example/Default"})]})}),(0,s.jsxs)(r.tbody,{children:[(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"VDR_PRISM_DRIVER_BLOCKFROST_API_KEY"})}),(0,s.jsx)(r.td,{children:"Option A"}),(0,s.jsx)(r.td,{children:"Your Blockfrost API key (mainnet/preprod/preview)"}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"mainnetABC123..."})})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"VDR_PRISM_DRIVER_PRIVATE_NETWORK_URL"})}),(0,s.jsx)(r.td,{children:"Option B"}),(0,s.jsx)(r.td,{children:"URL of private Blockfrost instance"}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"http://localhost:18082"})})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"VDR_PRISM_DRIVER_PRIVATE_NETWORK_PROTOCOL_MAGIC"})}),(0,s.jsx)(r.td,{children:"Option B"}),(0,s.jsx)(r.td,{children:"Protocol magic number for private network"}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"42"})})]})]})]}),"\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"\u26a0\ufe0f Network Configuration"}),": You MUST configure exactly ONE network option:"]}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"Option A"})," (Public Blockfrost): Set ",(0,s.jsx)(r.code,{children:"VDR_PRISM_DRIVER_BLOCKFROST_API_KEY"})," only"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"Option B"})," (Private Network): Set both ",(0,s.jsx)(r.code,{children:"VDR_PRISM_DRIVER_PRIVATE_NETWORK_URL"})," and ",(0,s.jsx)(r.code,{children:"VDR_PRISM_DRIVER_PRIVATE_NETWORK_PROTOCOL_MAGIC"})]}),"\n"]}),"\n",(0,s.jsx)(r.p,{children:"The Cloud Agent will reject configurations that set both options simultaneously."}),"\n",(0,s.jsx)(r.h4,{id:"optional-configuration",children:"Optional Configuration"}),"\n",(0,s.jsxs)(r.table,{children:[(0,s.jsx)(r.thead,{children:(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.th,{children:"Variable"}),(0,s.jsx)(r.th,{children:"Required?"}),(0,s.jsx)(r.th,{children:"Description"}),(0,s.jsx)(r.th,{children:"Example/Default"})]})}),(0,s.jsx)(r.tbody,{children:(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"VDR_PRISM_DRIVER_INDEX_INTERVAL_SECOND"})}),(0,s.jsx)(r.td,{children:"No"}),(0,s.jsx)(r.td,{children:"Blockchain polling interval (seconds)"}),(0,s.jsxs)(r.td,{children:[(0,s.jsx)(r.code,{children:"60"})," (default)"]})]})})]}),"\n",(0,s.jsx)(r.h3,{id:"configuration-examples",children:"Configuration Examples"}),"\n",(0,s.jsx)(r.h4,{id:"example-1-public-blockfrost-mainnet",children:"Example 1: Public Blockfrost (Mainnet)"}),"\n",(0,s.jsx)(r.p,{children:"This example shows a mainnet configuration using Blockfrost's mainnet service:"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:'export VDR_PRISM_DRIVER_ENABLED=true\nexport VDR_PRISM_DRIVER_BLOCKFROST_API_KEY="mainnetABC123YourKeyHere"\nexport VDR_PRISM_DRIVER_DID_PRISM="did:prism:4a5b6c7d8e9f0a1b2c3d4e5f6a7b8c9d0e1f2a3b4c5d6e7f8a9b0c1d2e3f4a5b"\nexport VDR_PRISM_DRIVER_VDR_PRIVATE_KEY="a1b2c3d4e5f6a7b8c9d0e1f2a3b4c5d6e7f8a9b0c1d2e3f4a5b6c7d8e9f0a1b2"\nexport VDR_PRISM_DRIVER_WALLET_MNEMONIC="word1 word2 word3 word4 word5 word6 word7 word8 word9 word10 word11 word12 word13 word14 word15 word16 word17 word18 word19 word20 word21 word22 word23 word24"\nexport VDR_PRISM_DRIVER_VDR_STATE_DIR="/var/lib/cloud-agent/vdr-state"\nexport VDR_PRISM_DRIVER_INDEX_INTERVAL_SECOND=60\n'})}),"\n",(0,s.jsx)(r.h4,{id:"example-2-private-network",children:"Example 2: Private Network"}),"\n",(0,s.jsx)(r.p,{children:"This example shows a configuration for a private or local Cardano network:"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:'export VDR_PRISM_DRIVER_ENABLED=true\nexport VDR_PRISM_DRIVER_PRIVATE_NETWORK_URL="http://localhost:18082"\nexport VDR_PRISM_DRIVER_PRIVATE_NETWORK_PROTOCOL_MAGIC=42\nexport VDR_PRISM_DRIVER_DID_PRISM="did:prism:4a5b6c7d8e9f0a1b2c3d4e5f6a7b8c9d0e1f2a3b4c5d6e7f8a9b0c1d2e3f4a5b"\nexport VDR_PRISM_DRIVER_VDR_PRIVATE_KEY="a1b2c3d4e5f6a7b8c9d0e1f2a3b4c5d6e7f8a9b0c1d2e3f4a5b6c7d8e9f0a1b2"\nexport VDR_PRISM_DRIVER_WALLET_MNEMONIC="word1 word2 word3 word4 word5 word6 word7 word8 word9 word10 word11 word12 word13 word14 word15 word16 word17 word18 word19 word20 word21 word22 word23 word24"\nexport VDR_PRISM_DRIVER_VDR_STATE_DIR="/var/lib/cloud-agent/vdr-state"\n'})}),"\n",(0,s.jsx)(r.h3,{id:"driver-variants",children:"Driver Variants"}),"\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"\u26a0\ufe0f Cloud Agent Users"}),": The Cloud Agent is configured to use ",(0,s.jsx)(r.code,{children:"PRISMDriverInMemory"})," ONLY. This is the sole PRISM driver implementation available via the Cloud Agent's HTTP API."]}),"\n",(0,s.jsxs)(r.p,{children:["The underlying ",(0,s.jsx)(r.a,{href:"https://github.com/hyperledger-identus/prism-vdr-driver",children:"PRISM VDR driver library"})," provides three implementations with different storage backends:"]}),"\n",(0,s.jsx)(r.h4,{id:"1-prismdriverinmemory--available-in-cloud-agent",children:"1. PRISMDriverInMemory \u2705 Available in Cloud Agent"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"Storage"}),": In-memory state with chunk file persistence"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"Use case"}),": Standard Cloud Agent deployment, balances performance with persistence"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"Configuration"}),": Via environment variables documented in the ",(0,s.jsx)(r.a,{href:"#configuration",children:"Configuration"})," section above"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"State management"}),": Loads blockchain state from chunk files in the configured state directory"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"Source code"}),": ",(0,s.jsx)(r.a,{href:"https://github.com/hyperledger-identus/prism-vdr-driver/blob/main/src/main/scala/hyperledger/identus/vdr/prism/PRISMDriverInMemory.scala",children:"PRISMDriverInMemory.scala"}),", ",(0,s.jsx)(r.a,{href:"https://github.com/hyperledger-identus/prism-vdr-driver/blob/main/src/main/scala/hyperledger/identus/vdr/prism/PrismDriver.scala",children:"PrismDriver.scala"})]}),"\n"]}),"\n",(0,s.jsx)(r.h4,{id:"2-prismdrivermongodb--library-integration-only",children:"2. PRISMDriverMongoDB \u274c Library Integration Only"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"Storage"}),": MongoDB (read-only)"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"Use case"}),": Applications requiring shared, scalable state storage across multiple instances"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"Requires"}),": Direct Scala library integration, external MongoDB setup and indexing"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"NOT available"}),": Cannot be used via Cloud Agent's HTTP API"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"Source code"}),": ",(0,s.jsx)(r.a,{href:"https://github.com/hyperledger-identus/prism-vdr-driver/blob/main/src/main/scala/hyperledger/identus/vdr/prism/PRISMDriverMongoDB.scala",children:"PRISMDriverMongoDB.scala"})]}),"\n"]}),"\n",(0,s.jsx)(r.h4,{id:"3-prismdrivermongodbwithindexer--library-integration-only",children:"3. PRISMDriverMongoDBWithIndexer \u274c Library Integration Only"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"Storage"}),": MongoDB with built-in indexing capability"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"Use case"}),": Applications that need to manage their own blockchain indexing process"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"Requires"}),": Direct Scala library integration, external MongoDB setup"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"NOT available"}),": Cannot be used via Cloud Agent's HTTP API"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"Source code"}),": ",(0,s.jsx)(r.a,{href:"https://github.com/hyperledger-identus/prism-vdr-driver/blob/main/src/main/scala/hyperledger/identus/vdr/prism/PRISMDriverMongoDBWithIndexer.scala",children:"PRISMDriverMongoDBWithIndexer.scala"})]}),"\n"]}),"\n",(0,s.jsx)(r.h4,{id:"comparison-table",children:"Comparison Table"}),"\n",(0,s.jsxs)(r.table,{children:[(0,s.jsx)(r.thead,{children:(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.th,{children:"Implementation"}),(0,s.jsx)(r.th,{children:"Storage Backend"}),(0,s.jsx)(r.th,{children:"Cloud Agent"}),(0,s.jsx)(r.th,{children:"Library Integration"})]})}),(0,s.jsxs)(r.tbody,{children:[(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:"PRISMDriverInMemory"}),(0,s.jsx)(r.td,{children:"In-memory + chunk files"}),(0,s.jsx)(r.td,{children:"\u2705 Available"}),(0,s.jsx)(r.td,{children:"\u2705 Available"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:"PRISMDriverMongoDB"}),(0,s.jsx)(r.td,{children:"MongoDB (read-only)"}),(0,s.jsx)(r.td,{children:"\u274c Not available"}),(0,s.jsx)(r.td,{children:"\u2705 Available"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:"PRISMDriverMongoDBWithIndexer"}),(0,s.jsx)(r.td,{children:"MongoDB + indexing"}),(0,s.jsx)(r.td,{children:"\u274c Not available"}),(0,s.jsx)(r.td,{children:"\u2705 Available"})]})]})]}),"\n",(0,s.jsx)(r.p,{children:"All implementations share the same protocol parameters:"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"Driver Family"}),": ",(0,s.jsx)(r.code,{children:"PRISM"})]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"Driver Version"}),": ",(0,s.jsx)(r.code,{children:"1.0"})]}),"\n"]}),"\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"For Cloud Agent users"}),": Use the environment variables documented above. The ",(0,s.jsx)(r.code,{children:"PRISMDriverInMemory"})," implementation is automatically configured when you enable the PRISM driver."]}),"\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"For library integrators"}),": If you need MongoDB-backed storage, you must integrate the PRISM VDR driver library directly into your Scala application. Refer to the driver source code and library documentation for integration details."]}),"\n",(0,s.jsx)(r.h3,{id:"important-considerations",children:"Important Considerations"}),"\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"Security"}),": Store your wallet mnemonic and VDR private key securely. Never commit these values to version control or expose them in logs. Consider using secret management solutions like HashiCorp Vault in operational environments."]}),"\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"State Directory"}),": Ensure the state directory has appropriate permissions and sufficient disk space. The indexer will create required subdirectories automatically on first run."]}),"\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"Blockchain Data Permanence"}),": Data stored on the blockchain is permanent and cannot be truly deleted. The VDR ",(0,s.jsx)(r.code,{children:"DELETE"})," operation marks entries as deactivated but does not remove them from the blockchain. Plan your data lifecycle accordingly and avoid storing sensitive information that may need to be removed."]}),"\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"Transaction Costs"}),": Writing data to the Cardano blockchain incurs transaction fees paid from your configured wallet. Ensure the wallet has sufficient ADA balance for your expected operations."]}),"\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"Indexing Delay"}),": Changes to the blockchain may take time to be reflected in the driver's state, depending on the configured polling interval and blockchain confirmation times. Consider these delays when designing time-sensitive workflows."]})]})}function h(e={}){const{wrapper:r}={...(0,d.R)(),...e.components};return r?(0,s.jsx)(r,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}}}]);