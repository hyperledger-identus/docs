"use strict";(self.webpackChunkidentus_documentation_portal=self.webpackChunkidentus_documentation_portal||[]).push([[1554],{76482:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>d,contentTitle:()=>r,default:()=>g,frontMatter:()=>a,metadata:()=>s,toc:()=>l});var t=o(74848),i=o(28453);const a={},r="Migration guide from 6.X to 7.X",s={id:"migration/migrating_6x_to_7x",title:"Migration guide from 6.X to 7.X",description:"This migration guide applies to both @hyperledger/identus-edge-agent-sdk and @hyperledger/identus-sdk.",source:"@site/sdk-ts/docs/migration/migrating_6x_to_7x.md",sourceDirName:"migration",slug:"/migration/migrating_6x_to_7x",permalink:"/docs/sdk-ts/migration/migrating_6x_to_7x",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"tutorialsSidebar",previous:{title:"SDK Package Release",permalink:"/docs/sdk-ts/decisions/sdk-package-release"}},d={},l=[{value:"Breaking Changes",id:"breaking-changes",level:2},{value:"1. Anoncreds, DIDComm, OEA and DIF no longer exported in core bundle.",id:"1-anoncreds-didcomm-oea-and-dif-no-longer-exported-in-core-bundle",level:3},{value:"2. Revocation no longer handled automatically, Revocation message now needs to be passed to agent.handle function.",id:"2-revocation-no-longer-handled-automatically-revocation-message-now-needs-to-be-passed-to-agenthandle-function",level:3}];function c(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",p:"p",pre:"pre",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h1,{id:"migration-guide-from-6x-to-7x",children:"Migration guide from 6.X to 7.X"}),"\n",(0,t.jsx)(n.p,{children:"This migration guide applies to both @hyperledger/identus-edge-agent-sdk and @hyperledger/identus-sdk."}),"\n",(0,t.jsx)(n.h2,{id:"breaking-changes",children:"Breaking Changes"}),"\n",(0,t.jsx)(n.p,{children:"If core internals where not in use, this breaking changes are likely to not affect you, except if you weren't relying on the Agent but using the internals directly for some things."}),"\n",(0,t.jsx)(n.h3,{id:"1-anoncreds-didcomm-oea-and-dif-no-longer-exported-in-core-bundle",children:"1. Anoncreds, DIDComm, OEA and DIF no longer exported in core bundle."}),"\n",(0,t.jsx)(n.p,{children:"For most cases all functionality is still available through plugins."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"import {OEA} from '@hyperledger/identus-sdk/plugins/oea';\nimport * as DIDComm from '@hyperledger/identus-sdk/plugins/didcomm'\nimport {DIF} from '@hyperledger/identus-sdk/plugins/dif'\nimport * as Anoncreds from '@hyperledger/identus-sdk/plugins/anoncreds'\n"})}),"\n",(0,t.jsx)(n.p,{children:"If there's other functionality that you can no longer find in the plugins please let us now and open an issue."}),"\n",(0,t.jsx)(n.h3,{id:"2-revocation-no-longer-handled-automatically-revocation-message-now-needs-to-be-passed-to-agenthandle-function",children:"2. Revocation no longer handled automatically, Revocation message now needs to be passed to agent.handle function."}),"\n",(0,t.jsx)(n.p,{children:"On version 6.X If you would receive a Credential Revocation message we would automatically update the Credential for you, updating revoked to true. That is no longer like that."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"agent.addEventListener(ListenerKeys.Message, async (messages) => {\n    const revokations = messages.filter(({piuri}) => piuri === SDK.ProtocolType.PrismRevocation);\n    for (let revocation of revocations) {\n        await agent.handle(revocation)\n    }\n})\n"})})]})}function g(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}},28453:(e,n,o)=>{o.d(n,{R:()=>r,x:()=>s});var t=o(96540);const i={},a=t.createContext(i);function r(e){const n=t.useContext(a);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),t.createElement(a.Provider,{value:n},e.children)}}}]);