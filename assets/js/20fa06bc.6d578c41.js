"use strict";(globalThis.webpackChunkidentus_documentation_portal=globalThis.webpackChunkidentus_documentation_portal||[]).push([[29193],{28453:(e,n,t)=>{t.d(n,{R:()=>r,x:()=>o});var s=t(96540);const i={},a=s.createContext(i);function r(e){const n=s.useContext(a);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),s.createElement(a.Provider,{value:n},e.children)}},66806:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>o,default:()=>u,frontMatter:()=>r,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"sdk-ts/docs/examples/Backup","title":"Edge SDK Backup & Restore","description":"Secure wallet backups through robust encryption using a master key derived from a seed, adhering to","source":"@site/sdk-ts/docs/examples/Backup.md","sourceDirName":"sdk-ts/docs/examples","slug":"/sdk-ts/docs/examples/Backup","permalink":"/sdk-ts/docs/examples/Backup","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"developersSidebar","previous":{"title":"Tutorials","permalink":"/category/tutorials"},"next":{"title":"Storage - Pluto","permalink":"/sdk-ts/docs/pluto/"}}');var i=t(74848),a=t(28453);const r={},o="Edge SDK Backup & Restore",d={},c=[{value:"The Foundation: Encryption and Key Management",id:"the-foundation-encryption-and-key-management",level:3},{value:"Data Specifications: Structure and Versioning",id:"data-specifications-structure-and-versioning",level:3},{value:"Requirements",id:"requirements",level:2},{value:"Flow",id:"flow",level:2},{value:"Code Reference",id:"code-reference",level:2}];function l(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,a.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"edge-sdk-backup--restore",children:"Edge SDK Backup & Restore"})}),"\n",(0,i.jsx)(n.p,{children:"Secure wallet backups through robust encryption using a master key derived from a seed, adhering to\nthe BIP32 standard. The backup data, structured as a JSON document, includes keys, DIDs,\ncredentials, and messages, with semantic versioning for future compatibility."}),"\n",(0,i.jsx)(n.h3,{id:"the-foundation-encryption-and-key-management",children:"The Foundation: Encryption and Key Management"}),"\n",(0,i.jsx)(n.p,{children:"At the heart of the backup solution lies robust encryption. The process begins with the derivation\nof a master key from a seed, following the BIP32 standard. This master key is then used to encrypt\nthe wallet data using JSON Web Encryption (JWE), a widely adopted standard. The encryption\nalgorithm, ECDH-ES+A256KW, combined with AES-256-CBC and HMAC SHA-512, ensures that the data remains\nconfidential and tamper-proof."}),"\n",(0,i.jsx)(n.h3,{id:"data-specifications-structure-and-versioning",children:"Data Specifications: Structure and Versioning"}),"\n",(0,i.jsx)(n.p,{children:"The structure of the backup data, which is formatted as a JSON document. This structure includes\nessential elements like keys, decentralized identifiers (DIDs), credentials, and messages. To\naccommodate future changes, the specification adheres to semantic versioning (semver), allowing for\nupdates and modifications while maintaining backward compatibility."}),"\n",(0,i.jsx)(n.h2,{id:"requirements",children:"Requirements"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"SDK A - a used instance with data in the store."}),"\n",(0,i.jsx)(n.li,{children:"SDK B - an unused instance, with an empty store."}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"flow",children:"Flow"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["SDK A creates a Backup ",(0,i.jsx)(n.code,{children:"jwe"})]}),"\n",(0,i.jsxs)(n.li,{children:["SDK B restores from the ",(0,i.jsx)(n.code,{children:"jwe"})]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"code-reference",children:"Code Reference"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Create the ",(0,i.jsx)(n.code,{children:"jwe"})," using the Agent function provided."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Example"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-TS",children:"const jwe = await Agent_a.backup.createJWE();\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Transfer the ",(0,i.jsx)(n.code,{children:"jwe"})," to another SDK."]}),"\n",(0,i.jsxs)(n.li,{children:["Restore from the ",(0,i.jsx)(n.code,{children:"jwe"})," using the Agent function provided."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Example"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-TS",children:"await Agent_b.backup.restore(jwe);\n"})})]})}function u(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}}}]);