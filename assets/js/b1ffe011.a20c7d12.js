"use strict";(globalThis.webpackChunkidentus_documentation_portal=globalThis.webpackChunkidentus_documentation_portal||[]).push([[13141],{28453:(e,n,d)=>{d.d(n,{R:()=>r,x:()=>t});var i=d(96540);const o={},s=i.createContext(o);function r(e){const n=i.useContext(s);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),i.createElement(s.Provider,{value:n},e.children)}},42786:(e,n,d)=>{d.r(n),d.d(n,{assets:()=>l,contentTitle:()=>t,default:()=>h,frontMatter:()=>r,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"documentation/developers/cloud-agent/node-backend","title":"Node Backend","description":"The Cloud Agent uses node backends to manage PRISM DIDs anchored on the Cardano blockchain. These backends handle DID resolution, blockchain data indexing, and operation submission to the Cardano network.","source":"@site/documentation/developers/cloud-agent/node-backend.md","sourceDirName":"documentation/developers/cloud-agent","slug":"/documentation/developers/cloud-agent/node-backend","permalink":"/docs/documentation/developers/cloud-agent/node-backend","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Node Backend"},"sidebar":"developersSidebar","previous":{"title":"DID management","permalink":"/docs/documentation/developers/cloud-agent/did-management"},"next":{"title":"Secrets Storage","permalink":"/docs/documentation/developers/cloud-agent/secrets-storage"}}');var o=d(74848),s=d(28453);const r={title:"Node Backend"},t="Node Backend",l={},c=[{value:"Node Backend Options",id:"node-backend-options",level:2},{value:"PRISM Node",id:"prism-node",level:3},{value:"NeoPRISM (Recommended)",id:"neoprism-recommended",level:3},{value:"Configuration",id:"configuration",level:2},{value:"Environment Variables",id:"environment-variables",level:3},{value:"Configuration Examples",id:"configuration-examples",level:3},{value:"Prerequisites",id:"prerequisites",level:2},{value:"For PRISM Node",id:"for-prism-node",level:3},{value:"For NeoPRISM (Recommended)",id:"for-neoprism-recommended",level:3},{value:"Migration Guide",id:"migration-guide",level:2},{value:"Migration Steps",id:"migration-steps",level:3},{value:"Additional Resources",id:"additional-resources",level:2}];function a(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"node-backend",children:"Node Backend"})}),"\n",(0,o.jsxs)(n.p,{children:["The ",(0,o.jsx)(n.a,{href:"/documentation/learn/glossary#cloud-agent",children:"Cloud Agent"})," uses node backends to manage PRISM DIDs anchored on the Cardano blockchain. These backends handle DID resolution, blockchain data indexing, and operation submission to the Cardano network."]}),"\n",(0,o.jsxs)(n.p,{children:["Two backend options are available: the legacy PRISM Node and NeoPRISM. ",(0,o.jsx)(n.strong,{children:"We recommend NeoPRISM for new deployments"})," due to its lightweight architecture, simple deployment, and modern REST API. Both backends are interchangeable via a simple configuration change."]}),"\n",(0,o.jsx)(n.h2,{id:"node-backend-options",children:"Node Backend Options"}),"\n",(0,o.jsx)(n.p,{children:"Cloud Agent supports two node backend implementations:"}),"\n",(0,o.jsxs)(n.table,{children:[(0,o.jsx)(n.thead,{children:(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.th,{children:"Feature"}),(0,o.jsx)(n.th,{children:"PRISM Node"}),(0,o.jsx)(n.th,{children:"NeoPRISM"})]})}),(0,o.jsxs)(n.tbody,{children:[(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"Status"}),(0,o.jsx)(n.td,{children:"Legacy"}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.strong,{children:"Recommended"})})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"Protocol"}),(0,o.jsx)(n.td,{children:"gRPC"}),(0,o.jsx)(n.td,{children:"HTTP/REST"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"Implementation"}),(0,o.jsx)(n.td,{children:"Scala"}),(0,o.jsx)(n.td,{children:"Rust"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"Resource Usage"}),(0,o.jsx)(n.td,{children:"Higher"}),(0,o.jsx)(n.td,{children:"Lightweight"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"Default Backend"}),(0,o.jsx)(n.td,{children:"\u2705 Yes"}),(0,o.jsx)(n.td,{children:"\u274c No"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"VDR Storage Support"}),(0,o.jsx)(n.td,{children:"Partial"}),(0,o.jsx)(n.td,{children:"Full"})]})]})]}),"\n",(0,o.jsx)(n.h3,{id:"prism-node",children:"PRISM Node"}),"\n",(0,o.jsx)(n.p,{children:"The legacy PRISM Node implementation uses gRPC for communication and has been the default backend since the initial release of Cloud Agent. While still supported for existing deployments, PRISM Node requires more resources and has a more complex deployment process."}),"\n",(0,o.jsx)(n.h3,{id:"neoprism-recommended",children:"NeoPRISM (Recommended)"}),"\n",(0,o.jsx)(n.p,{children:"NeoPRISM is an open-source alternative implementation written in Rust. It provides the same DID management capabilities with improved resource efficiency and a modern HTTP/REST API. NeoPRISM is designed for easy deployment with Docker and supports multiple deployment modes."}),"\n",(0,o.jsxs)(n.p,{children:["For more information about NeoPRISM, see the ",(0,o.jsx)(n.a,{href:"/docs/documentation/learn/components/neoprism/",children:"NeoPRISM component documentation"}),"."]}),"\n",(0,o.jsx)(n.h2,{id:"configuration",children:"Configuration"}),"\n",(0,o.jsxs)(n.p,{children:["The node backend is configured using environment variables. Switch between backends by changing the ",(0,o.jsx)(n.code,{children:"NODE_BACKEND"})," variable."]}),"\n",(0,o.jsx)(n.h3,{id:"environment-variables",children:"Environment Variables"}),"\n",(0,o.jsxs)(n.table,{children:[(0,o.jsx)(n.thead,{children:(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.th,{children:"Variable"}),(0,o.jsx)(n.th,{children:"Description"}),(0,o.jsx)(n.th,{children:"Type"}),(0,o.jsx)(n.th,{children:"Default"})]})}),(0,o.jsxs)(n.tbody,{children:[(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"NODE_BACKEND"})}),(0,o.jsxs)(n.td,{children:["DID node backend implementation to use. Use ",(0,o.jsx)(n.code,{children:"prism-node"})," for the legacy PRISM Node or ",(0,o.jsx)(n.code,{children:"neoprism"})," for NeoPRISM service."]}),(0,o.jsxs)(n.td,{children:["Enum (",(0,o.jsx)(n.code,{children:"prism-node"}),", ",(0,o.jsx)(n.code,{children:"neoprism"}),")"]}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"prism-node"})})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"NEOPRISM_BASE_URL"})}),(0,o.jsxs)(n.td,{children:["Base URL of the NeoPRISM service for DID resolution. Only required when ",(0,o.jsx)(n.code,{children:"NODE_BACKEND"})," is set to ",(0,o.jsx)(n.code,{children:"neoprism"}),"."]}),(0,o.jsx)(n.td,{children:"String"}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"http://localhost:8080"})})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"PRISM_NODE_HOST"})}),(0,o.jsxs)(n.td,{children:["Hostname of the server where the PRISM Node is running. Only used when ",(0,o.jsx)(n.code,{children:"NODE_BACKEND"})," is set to ",(0,o.jsx)(n.code,{children:"prism-node"}),"."]}),(0,o.jsx)(n.td,{children:"String"}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"localhost"})})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"PRISM_NODE_PORT"})}),(0,o.jsxs)(n.td,{children:["Port of the PRISM Node. Only used when ",(0,o.jsx)(n.code,{children:"NODE_BACKEND"})," is set to ",(0,o.jsx)(n.code,{children:"prism-node"}),"."]}),(0,o.jsx)(n.td,{children:"Int"}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"50053"})})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"PRISM_NODE_USE_PLAIN_TEXT"})}),(0,o.jsxs)(n.td,{children:["Whether to use plain text for PRISM Node communication. Only used when ",(0,o.jsx)(n.code,{children:"NODE_BACKEND"})," is set to ",(0,o.jsx)(n.code,{children:"prism-node"}),"."]}),(0,o.jsx)(n.td,{children:"Boolean"}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"true"})})]})]})]}),"\n",(0,o.jsx)(n.h3,{id:"configuration-examples",children:"Configuration Examples"}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"For NeoPRISM (Recommended):"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"NODE_BACKEND=neoprism\nNEOPRISM_BASE_URL=http://neoprism:8080\n"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"For PRISM Node (Legacy):"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"NODE_BACKEND=prism-node\nPRISM_NODE_HOST=prism-node\nPRISM_NODE_PORT=50053\nPRISM_NODE_USE_PLAIN_TEXT=true\n"})}),"\n",(0,o.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,o.jsx)(n.h3,{id:"for-prism-node",children:"For PRISM Node"}),"\n",(0,o.jsx)(n.admonition,{title:"Deprecation Notice",type:"warning",children:(0,o.jsxs)(n.p,{children:["PRISM Node is considered a legacy implementation and may be deprecated in future versions of Cloud Agent. While existing deployments using PRISM Node will continue to be supported, ",(0,o.jsx)(n.strong,{children:"we strongly recommend using NeoPRISM for all new deployments"}),"."]})}),"\n",(0,o.jsx)(n.p,{children:"To use PRISM Node as the backend, you need:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"A deployed PRISM Node instance"}),"\n",(0,o.jsx)(n.li,{children:"Network connectivity to the PRISM Node service"}),"\n"]}),"\n",(0,o.jsxs)(n.p,{children:["For detailed instructions on deploying and running PRISM Node, see the ",(0,o.jsx)(n.a,{href:"/docs/documentation/learn/components/prism-node/running-node",children:"Running PRISM Node"})," documentation."]}),"\n",(0,o.jsx)(n.h3,{id:"for-neoprism-recommended",children:"For NeoPRISM (Recommended)"}),"\n",(0,o.jsx)(n.admonition,{type:"info",children:(0,o.jsxs)(n.p,{children:["NeoPRISM ",(0,o.jsx)(n.strong,{children:"MUST"})," be run in ",(0,o.jsx)(n.strong,{children:"standalone mode"})," when integrating with Cloud Agent. Standalone mode provides both indexing and operation submission capabilities required by the Cloud Agent."]})}),"\n",(0,o.jsx)(n.p,{children:"To use NeoPRISM as the backend, you need:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"A deployed NeoPRISM instance in standalone mode"}),"\n",(0,o.jsx)(n.li,{children:"Network connectivity to the NeoPRISM service"}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"Additionally, you need:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Database:"})," PostgreSQL or SQLite for storing indexed blockchain data"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Cardano Wallet:"})," A configured Cardano wallet for submitting operations to the blockchain"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Cardano Network Sources:"})," Connectivity to the Cardano network (mainnet, preprod, or testnet). This might be a Cardano relay node or a DBSync instance"]}),"\n"]}),"\n",(0,o.jsxs)(n.p,{children:["For detailed instructions on deploying and running NeoPRISM in standalone mode, see the ",(0,o.jsx)(n.a,{href:"/docs/documentation/learn/components/neoprism/running-neoprism",children:"Running NeoPRISM"})," documentation."]}),"\n",(0,o.jsx)(n.h2,{id:"migration-guide",children:"Migration Guide"}),"\n",(0,o.jsx)(n.p,{children:"Migrating from PRISM Node to NeoPRISM is seamless and requires no code changes. The migration process involves updating environment variables and restarting the Cloud Agent."}),"\n",(0,o.jsx)(n.h3,{id:"migration-steps",children:"Migration Steps"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Deploy NeoPRISM:"})," Ensure NeoPRISM is deployed and running in standalone mode with all prerequisites configured."]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Update Environment Variables:"})," Change the ",(0,o.jsx)(n.code,{children:"NODE_BACKEND"})," variable to ",(0,o.jsx)(n.code,{children:"neoprism"})," and set the ",(0,o.jsx)(n.code,{children:"NEOPRISM_BASE_URL"}),":"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"NODE_BACKEND=neoprism\nNEOPRISM_BASE_URL=http://your-neoprism-host:8080\n"})}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Restart Cloud Agent:"})," Restart the Cloud Agent service to apply the new configuration."]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Verify Operation:"})," Test DID operations to ensure the Cloud Agent is successfully communicating with NeoPRISM."]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"additional-resources",children:"Additional Resources"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.a,{href:"https://hyperledger-identus.github.io/neoprism/",children:"NeoPRISM Official Documentation"})}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(a,{...e})}):a(e)}}}]);