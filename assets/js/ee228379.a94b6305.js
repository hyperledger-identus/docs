"use strict";(self.webpackChunkidentus_documentation_portal=self.webpackChunkidentus_documentation_portal||[]).push([[86134],{39419:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>c,contentTitle:()=>d,default:()=>h,frontMatter:()=>t,metadata:()=>o,toc:()=>l});var i=n(74848),s=n(28453);const t={},d="Error Handling Report Problem for Agent",o={id:"decisions/2024-01-15-Error-handling-report-problem-agent",title:"Error Handling Report Problem for Agent",description:"- Status: accepted",source:"@site/documentation/adrs/decisions/2024-01-15-Error-handling-report-problem-agent.md",sourceDirName:"decisions",slug:"/decisions/2024-01-15-Error-handling-report-problem-agent",permalink:"/docs/adrs/decisions/2024-01-15-Error-handling-report-problem-agent",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"adrsSidebar",previous:{title:"Use JWT claims for agent admin access control",permalink:"/docs/adrs/decisions/2024-01-03-use-jwt-claims-for-agent-admin-auth"},next:{title:"Use ZIO Failures and Defects Effectively",permalink:"/docs/adrs/decisions/2024-01-16-use-zio-failures-and-defects-effectively"}},c={},l=[{value:"Context and Problem Statement",id:"context-and-problem-statement",level:2},{value:"Decision Drivers ",id:"decision-drivers-",level:2},{value:"Scenarios Description",id:"scenarios-description",level:3},{value:"General Scenarios",id:"general-scenarios",level:4},{value:"Connection Flow Scenarios",id:"connection-flow-scenarios",level:2},{value:"Issuance Flow Scenarios",id:"issuance-flow-scenarios",level:2},{value:"Verification(Present proof)  Flow Scenarios",id:"verificationpresent-proof--flow-scenarios",level:2},{value:"Decision Outcome",id:"decision-outcome",level:2},{value:"Out of the Scope",id:"out-of-the-scope",level:3}];function a(e){const r={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",li:"li",ol:"ol",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.h1,{id:"error-handling-report-problem-for-agent",children:"Error Handling Report Problem for Agent"}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsx)(r.li,{children:"Status: accepted"}),"\n",(0,i.jsx)(r.li,{children:"Deciders: Shailesh Patil, Fabio Pinheiro, Yurii Shynbuiev, Benjamin Voiturier, David Poltorak"}),"\n",(0,i.jsx)(r.li,{children:"Date: 2024-01-16"}),"\n",(0,i.jsx)(r.li,{children:"Tags: report, problem, error, handling, agent"}),"\n"]}),"\n",(0,i.jsx)(r.p,{children:"Technical Story: [Error Handling Report Problem for Agent]"}),"\n",(0,i.jsx)(r.h2,{id:"context-and-problem-statement",children:"Context and Problem Statement"}),"\n",(0,i.jsx)(r.p,{children:"In decentralized systems like those with remote collaborating agents, effectively reporting errors and warnings is a complex task.\nIt's crucial to not only highlight problems but also provide the necessary context to those who need this information,\nwhich might include different groups: those who should be informed and those who can actually resolve the issues."}),"\n",(0,i.jsx)(r.p,{children:"It is more challenging when a problem is identified significantly later or in a different location from where it originated,\ninvolving collaboration among various parties for a solution.\nFor DIDComm, the aspect of interoperability is especially critical in the context of problem reporting.\nIn DIDComm, an agent developed by one team is required to be adept at interpreting errors reported by an agent from a completely different team,\npresenting a unique challenge in this area."}),"\n",(0,i.jsxs)(r.p,{children:["As of the time of writing, the Cloud Agent supports 3 DIDComm flows: ",(0,i.jsx)(r.code,{children:"Connection"}),", ",(0,i.jsx)(r.code,{children:"Issuance"})," and ",(0,i.jsx)(r.code,{children:"Verification."}),"\nEach Cloud Agent operates a background thread that facilitates interactions between two agents.\nFor each flow, the agent tracks a protocol state, and depending on this state, it triggers a DIDComm(V2) message to communicate with the other agent.\nThe communication between two agents, Agent A and Agent B, occurs asynchronously in the background job.\nIf an error occurs in this background job over DIDComm in Agent A, it is recorded in Agent A's logs. However, Agent B remains uninformed about any such errors."]}),"\n",(0,i.jsx)(r.h2,{id:"decision-drivers-",children:"Decision Drivers "}),"\n",(0,i.jsxs)(r.p,{children:["What are our needs? Let\u2019s try to sum up the required capabilities based on\n",(0,i.jsx)(r.a,{href:"https://identity.foundation/didcomm-messaging/spec/#problem-reports",children:"Report Problem 2.0"}),", we need:"]}),"\n",(0,i.jsxs)(r.p,{children:["The Cloud Agent is designed to perform three distinct roles: ",(0,i.jsx)(r.code,{children:"Issuer"}),", ",(0,i.jsx)(r.code,{children:"Holder"}),", and ",(0,i.jsx)(r.code,{children:"Verifier"}),". Within these roles,\nit operates across three protocol flows, namely ",(0,i.jsx)(r.code,{children:"Connection"}),", ",(0,i.jsx)(r.code,{children:"Issuance"}),", and ",(0,i.jsx)(r.code,{children:"Verification"}),"."]}),"\n",(0,i.jsxs)(r.table,{children:[(0,i.jsx)(r.thead,{children:(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.th,{children:"Agent(Protocol) Flows"}),(0,i.jsx)(r.th,{children:"Protocols"})]})}),(0,i.jsxs)(r.tbody,{children:[(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:"Connection"}),(0,i.jsxs)(r.td,{children:["[",(0,i.jsx)(r.a,{href:"https://github.com/hyperledger/aries-rfcs/tree/main/features/0160-connection-protocol",children:"https://github.com/hyperledger/aries-rfcs/tree/main/features/0160-connection-protocol"}),"]"]})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:"Issuance"}),(0,i.jsxs)(r.td,{children:["[",(0,i.jsx)(r.a,{href:"https://github.com/decentralized-identity/waci-didcomm/tree/main/issue_credential",children:"https://github.com/decentralized-identity/waci-didcomm/tree/main/issue_credential"}),"]"]})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:"Verification(Present proof)"}),(0,i.jsxs)(r.td,{children:["[",(0,i.jsx)(r.a,{href:"https://github.com/decentralized-identity/waci-didcomm/blob/main/present_proof/present-proof-v3.md",children:"https://github.com/decentralized-identity/waci-didcomm/blob/main/present_proof/present-proof-v3.md"}),"]"]})]})]})]}),"\n",(0,i.jsx)(r.p,{children:"Custom Behavior table\nThis table defines the expected behavior of the Agent in different scenarios not covered by the specifications."}),"\n",(0,i.jsxs)(r.table,{children:[(0,i.jsx)(r.thead,{children:(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.th,{children:"Agent"}),(0,i.jsx)(r.th,{children:"Behaviour"}),(0,i.jsx)(r.th,{children:"Action"})]})}),(0,i.jsxs)(r.tbody,{children:[(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:"Scenario G1"}),(0,i.jsx)(r.td,{children:"Send a problem report"}),(0,i.jsx)(r.td,{children:"e.p.msg.unsupported"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:"Scenario G2"}),(0,i.jsx)(r.td,{children:"Send a problem report"}),(0,i.jsx)(r.td,{children:"e.p.msg.unsupported"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:"Scenario G3"}),(0,i.jsx)(r.td,{children:"Send a problem report"}),(0,i.jsx)(r.td,{children:"e.p.error"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:"Scenario G4"}),(0,i.jsx)(r.td,{children:"(Sync ?) Send a problem report"}),(0,i.jsx)(r.td,{children:"e.p.trust.crypto"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:"Scenario G5"}),(0,i.jsx)(r.td,{children:"(Sync ?) Send a problem report"}),(0,i.jsx)(r.td,{children:"e.p.did"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:"Scenario G6"}),(0,i.jsx)(r.td,{children:"(Sync ?) Send a problem report"}),(0,i.jsx)(r.td,{children:"e.p.did.malformed"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:"Scenario G7"}),(0,i.jsx)(r.td,{children:"Send a problem report"}),(0,i.jsx)(r.td,{children:"e.p.msg.<PIURI>"})]})]})]}),"\n",(0,i.jsx)(r.h3,{id:"scenarios-description",children:"Scenarios Description"}),"\n",(0,i.jsx)(r.h4,{id:"general-scenarios",children:"General Scenarios"}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsxs)(r.p,{children:[(0,i.jsx)(r.strong,{children:"G1"})," - Receive a message for an unsupported protocol"]}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsxs)(r.p,{children:["G1 - Send a problem report ",(0,i.jsx)(r.code,{children:"e.p.msg.unsupported"})]}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsxs)(r.p,{children:[(0,i.jsx)(r.strong,{children:"G2"})," - Receive a message for an unsupported version of the protocol."]}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsxs)(r.p,{children:["G2 - Send a problem report ",(0,i.jsx)(r.code,{children:"e.p.msg.unsupported"})," and say what version(s) its supported"]}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsxs)(r.p,{children:[(0,i.jsx)(r.strong,{children:"G3"})," - When an internal error or any unexpected error happens."]}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsx)(r.p,{children:'G3 - Send a problem report "e.p.error"'}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsxs)(r.p,{children:[(0,i.jsx)(r.strong,{children:"G4"})," - If the message is tampered or got any crypto errors when decoding."]}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsx)(r.p,{children:'G4 -  (sync!) Send a problem report "e.p.trust.crypto"'}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsxs)(r.p,{children:[(0,i.jsx)(r.strong,{children:"G5"})," - If the DID method is not supported (",(0,i.jsx)(r.code,{children:"did.peer"})," in this case)"]}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsx)(r.p,{children:"G5 - (sync?) e.p.did"}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsxs)(r.p,{children:[(0,i.jsx)(r.strong,{children:"G6"})," - If the DID method is malformed."]}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsx)(r.p,{children:"G6 - (sync?) e.p.did.malformed"}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsxs)(r.p,{children:[(0,i.jsx)(r.strong,{children:"G7"})," - When a parsing error from the decrypted message."]}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsxs)(r.p,{children:["G7 - Send a problem report ",(0,i.jsx)(r.code,{children:"e.p.msg.<PIURI>"})," if the plaintext message is malformed or if parsing into a specific protocol's data model fails."]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(r.h2,{id:"connection-flow-scenarios",children:"Connection Flow Scenarios"}),"\n",(0,i.jsxs)(r.p,{children:["[",(0,i.jsx)(r.a,{href:"https://github.com/hyperledger/aries-rfcs/tree/main/features/0160-connection-protocol",children:"https://github.com/hyperledger/aries-rfcs/tree/main/features/0160-connection-protocol"}),"]"]}),"\n",(0,i.jsxs)(r.table,{children:[(0,i.jsx)(r.thead,{children:(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.th,{children:"Agent"}),(0,i.jsx)(r.th,{children:"Behaviour"}),(0,i.jsx)(r.th,{children:"Action"})]})}),(0,i.jsxs)(r.tbody,{children:[(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:"Scenario C1"}),(0,i.jsx)(r.td,{children:"Send a problem report (Invitation expired)"}),(0,i.jsx)(r.td,{children:"e.p.msg.invitation-expired"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:"Scenario C2"}),(0,i.jsx)(r.td,{children:"Send a problem report (Invitation parsing decoding)"}),(0,i.jsx)(r.td,{children:"e.p.msg.malformed-invitation"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:"Scenario C3"}),(0,i.jsx)(r.td,{children:"Send a problem report (DB connection issues)"}),(0,i.jsx)(r.td,{children:"e.p.me.res.storage"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:"Scenario C4"}),(0,i.jsx)(r.td,{children:"Send a problem report (After max retries)"}),(0,i.jsx)(r.td,{children:"e.p.req.max-retries-exceeded"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:"Scenario C5 (G3)"}),(0,i.jsx)(r.td,{children:"Send a problem report Any other error"}),(0,i.jsx)(r.td,{children:"e.p.error"})]})]})]}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"C1"})," - OOB Invitation has expired"]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"C2"})," - OOB is tampered / decoding error"]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"C3"})," - Database connection or related issue"]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"C4"})," - Max retries (Cascading Problems): Connection state cannot be moved after max retries"]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"C5"})," - See G3"]}),"\n"]}),"\n",(0,i.jsx)(r.h2,{id:"issuance-flow-scenarios",children:"Issuance Flow Scenarios"}),"\n",(0,i.jsxs)(r.p,{children:["[",(0,i.jsx)(r.a,{href:"https://github.com/decentralized-identity/waci-didcomm/tree/main/issue_credential",children:"https://github.com/decentralized-identity/waci-didcomm/tree/main/issue_credential"}),"]"]}),"\n",(0,i.jsxs)(r.table,{children:[(0,i.jsx)(r.thead,{children:(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.th,{children:"Agent"}),(0,i.jsx)(r.th,{children:"Behaviour"}),(0,i.jsx)(r.th,{children:"Action"})]})}),(0,i.jsxs)(r.tbody,{children:[(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:"Scenario I1"}),(0,i.jsx)(r.td,{children:"Send a problem report"}),(0,i.jsx)(r.td,{children:"e.p.msg.credential-format-mismatch"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:"Scenario I2"}),(0,i.jsx)(r.td,{children:"Send a problem report"}),(0,i.jsx)(r.td,{children:"e.p.msg.invalid-signature"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:"Scenario I3"}),(0,i.jsx)(r.td,{children:"Send a problem report"}),(0,i.jsx)(r.td,{children:"e.p.msg.schema-mismatch"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:"Scenario I4"}),(0,i.jsx)(r.td,{children:"Send a problem report (DB connection issues)"}),(0,i.jsx)(r.td,{children:"e.p.me.res.storage"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:"Scenario I5"}),(0,i.jsx)(r.td,{children:"Send a problem report (After max retries)"}),(0,i.jsx)(r.td,{children:"e.p.req.max-retries-exceeded"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:"Scenario I6(G3)"}),(0,i.jsx)(r.td,{children:"Send a problem report Any other error"}),(0,i.jsx)(r.td,{children:"e.p.error"})]})]})]}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"I1"})," - Credential format mismatch: The Holder expects a credential format schema, but the credential issued is different format"]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"I2"})," - Credential signature that cannot be verified. This might be due to the credential being tampered with, or the public key used for signing being incorrect or expired."]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"I3"})," - Schema Mismatch: The Holder expects a credential that adheres to a certain schema, but the credential presented follows a different schema."]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"I4"})," - Database connection or related issue"]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"I5"})," - Max retries (Cascading Problems): Issuance state cannot be moved after max retries"]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"I6"})," - See G3"]}),"\n"]}),"\n",(0,i.jsx)(r.h2,{id:"verificationpresent-proof--flow-scenarios",children:"Verification(Present proof)  Flow Scenarios"}),"\n",(0,i.jsxs)(r.p,{children:["[",(0,i.jsx)(r.a,{href:"https://github.com/decentralized-identity/waci-didcomm/blob/main/present_proof/present-proof-v3.md",children:"https://github.com/decentralized-identity/waci-didcomm/blob/main/present_proof/present-proof-v3.md"}),"]"]}),"\n",(0,i.jsxs)(r.table,{children:[(0,i.jsx)(r.thead,{children:(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.th,{children:"Agent"}),(0,i.jsx)(r.th,{children:"Behaviour"}),(0,i.jsx)(r.th,{children:"Action"})]})}),(0,i.jsxs)(r.tbody,{children:[(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:"Scenario V1"}),(0,i.jsx)(r.td,{children:"Send a problem report"}),(0,i.jsx)(r.td,{children:"e.p.msg.credential-format-mismatch"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:"Scenario V2"}),(0,i.jsx)(r.td,{children:"Send a problem report"}),(0,i.jsx)(r.td,{children:"e.p.msg.invalid-signature"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:"Scenario V3"}),(0,i.jsx)(r.td,{children:"Send a problem report"}),(0,i.jsx)(r.td,{children:"e.p.msg.revoked-credentials"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:"Scenario V4"}),(0,i.jsx)(r.td,{children:"Send a problem report"}),(0,i.jsx)(r.td,{children:"e.p.msg.expired-credentials"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:"Scenario V5"}),(0,i.jsx)(r.td,{children:"Send a problem report"}),(0,i.jsx)(r.td,{children:"e.p.msg.proof-mismatch"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:"Scenario V6"}),(0,i.jsx)(r.td,{children:"Send a problem report"}),(0,i.jsx)(r.td,{children:"e.p.msg.schema-mismatch"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:"Scenario V7"}),(0,i.jsx)(r.td,{children:"Send a problem report"}),(0,i.jsx)(r.td,{children:"e.p.msg.revoked-or-expired-issuer-key"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:"Scenario V8"}),(0,i.jsx)(r.td,{children:"Send a problem report (After max retries)"}),(0,i.jsx)(r.td,{children:"e.p.req.max-retries-exceeded"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:"Scenario V9(G3)"}),(0,i.jsx)(r.td,{children:"Send a problem report Any other error"}),(0,i.jsx)(r.td,{children:"e.p.error"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:"Scenario V10"}),(0,i.jsx)(r.td,{children:"Send a problem report (DB connection issues)"}),(0,i.jsx)(r.td,{children:"e.p.me.res.storage"})]})]})]}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"V1"})," - Credential Format Mismatch: The verifier expects a credential in a specific format, but the prover presents it in a different format."]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"V2"})," - Credentials presented have signatures that cannot be verified. This might be due to the credential being tampered with, or the public key used for verification being incorrect."]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"V3"})," - Revoked Credentials: The prover presents a credential that has been revoked by the issuer"]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"V4"})," - Expired Credentials: The credentials presented are past their expiry date, making them invalid for the transaction."]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"V5"})," - Mismatch in the Proof Request and Presentation: The verifier's proof request asks for certain attributes or predicates, but the presentation from the prover doesn't match these requirements."]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"V6"})," - Schema Mismatch: The verifier expects a credential that adheres to a certain schema, but the credential presented follows a different schema."]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"V7"})," - Credential Format Mismatch: The verifier expects a credential in a specific format, but the prover presents it in a different format."]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"V8"})," - Max retries (Cascading Problems): Verification State cannot be moved after max retries"]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"V9"})," - See G3"]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:"V10"})," - Database connection or related issue"]}),"\n"]}),"\n",(0,i.jsx)(r.h2,{id:"decision-outcome",children:"Decision Outcome"}),"\n",(0,i.jsx)(r.p,{children:"In the event of an issue in the Cloud Agent, the following actions are taken:"}),"\n",(0,i.jsxs)(r.ol,{children:["\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsx)(r.p,{children:"The error is logged, including the X-Request-ID and the thread ID (thid)."}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsxs)(r.p,{children:["A problem report message is generated and sent out as outlined in the previously mentioned table\nThis message is sent in accordance with the return route defined here:\n",(0,i.jsx)(r.a,{href:"https://github.com/decentralized-identity/didcomm-messaging/blob/main/extensions/return_route/main.md",children:"Return Route Extension for DIDComm Messaging"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsx)(r.p,{children:(0,i.jsx)(r.a,{href:"https://didcomm.org/report-problem/2.0/",children:"Implement the Problem Reporting"})}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(r.h3,{id:"out-of-the-scope",children:"Out of the Scope"}),"\n",(0,i.jsxs)(r.ol,{children:["\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsx)(r.p,{children:"The problem report generated is not stored in the database along with the associated X-Request-ID."}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsx)(r.p,{children:(0,i.jsx)(r.a,{href:"https://identity.foundation/didcomm-messaging/spec/#replying-to-warnings",children:"Replying to Warnings"})}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsx)(r.p,{children:(0,i.jsx)(r.a,{href:"https://identity.foundation/didcomm-messaging/spec/#acks",children:"ACKs"})}),"\n"]}),"\n"]})]})}function h(e={}){const{wrapper:r}={...(0,s.R)(),...e.components};return r?(0,i.jsx)(r,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}},28453:(e,r,n)=>{n.d(r,{R:()=>d,x:()=>o});var i=n(96540);const s={},t=i.createContext(s);function d(e){const r=i.useContext(t);return i.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function o(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:d(e.components),i.createElement(t.Provider,{value:r},e.children)}}}]);