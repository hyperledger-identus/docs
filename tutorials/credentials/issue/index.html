<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-tutorials docs-version-current docs-doc-page docs-doc-id-credentials/issue" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.5.2">
<title data-rh="true">Issue credentials (DIDComm) | Hyperledger Identus</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://hyperledger.github.io/identus-docs/tutorials/credentials/issue"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-tutorials-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-tutorials-current"><meta data-rh="true" property="og:title" content="Issue credentials (DIDComm) | Hyperledger Identus"><meta data-rh="true" name="description" content="In the Identus Platform, the Issue Credentials Protocol allows you to create, retrieve, and manage issued verifiable credentials (VCs) between a VC issuer and a VC holder."><meta data-rh="true" property="og:description" content="In the Identus Platform, the Issue Credentials Protocol allows you to create, retrieve, and manage issued verifiable credentials (VCs) between a VC issuer and a VC holder."><link data-rh="true" rel="icon" href="/identus-docs/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://hyperledger.github.io/identus-docs/tutorials/credentials/issue"><link data-rh="true" rel="alternate" href="https://hyperledger.github.io/identus-docs/tutorials/credentials/issue" hreflang="en"><link data-rh="true" rel="alternate" href="https://hyperledger.github.io/identus-docs/tutorials/credentials/issue" hreflang="x-default"><link rel="stylesheet" href="/identus-docs/assets/css/styles.3cf2f599.css">
<script src="/identus-docs/assets/js/runtime~main.b51857ec.js" defer="defer"></script>
<script src="/identus-docs/assets/js/main.3381ff55.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/identus-docs/"><div class="navbar__logo"><img src="/identus-docs/img/identus-navbar-light.png" alt=" Identus logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/identus-docs/img/identus-navbar-light.png" alt=" Identus logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div></a><a class="navbar__item navbar__link" href="/identus-docs/docs/getting-started">Docs</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/identus-docs/tutorials/">Tutorials</a><a class="navbar__item navbar__link" href="/identus-docs/adrs/">ADRs</a><a class="navbar__item navbar__link" href="/identus-docs/agent-api/">Agent API</a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">SDKs</a><ul class="dropdown__menu"><li><a href="https://hyperledger.github.io/identus-edge-agent-sdk-swift/documentation/edgeagentsdk/" target="_blank" rel="noopener noreferrer" class="dropdown__link">Edge Agent SDK Swift<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a class="dropdown__link" href="/identus-docs/identus-edge-agent-sdk-ts/sdk">Edge Agent SDK Typescript</a></li><li><a href="https://hyperledger.github.io/identus-edge-agent-sdk-kmp/" target="_blank" rel="noopener noreferrer" class="dropdown__link">Edge Agent SDK Kotlin Multiplatform<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><a href="https://github.com/input-output-hk/prism-did-method-spec/blob/main/w3c-spec/PRISM-method.md" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">PRISM DID Spec<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input id="search_input_react" type="search" placeholder="Loading..." aria-label="Search" class="navbar__search-input search-bar" disabled=""></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/identus-docs/tutorials/">Tutorials</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/identus-docs/tutorials/connections/connection">Connections</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/identus-docs/tutorials/category/credentials">Credentials</a><button aria-label="Collapse sidebar category &#x27;Credentials&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/identus-docs/tutorials/credentials/issue">Issue credentials (DIDComm)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/identus-docs/tutorials/credentials/oid4vci">Issue credentials (OID4VCI)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/identus-docs/tutorials/credentials/present-proof">Present proof</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/identus-docs/tutorials/credentials/revocation">Credential revocation</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/identus-docs/tutorials/category/dids">DIDs</a><button aria-label="Expand sidebar category &#x27;DIDs&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/identus-docs/tutorials/category/schemas">Schemas</a><button aria-label="Expand sidebar category &#x27;Schemas&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/identus-docs/tutorials/category/credential-definition">Credential Definition</a><button aria-label="Expand sidebar category &#x27;Credential Definition&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/identus-docs/tutorials/category/secret-management">Secret Management</a><button aria-label="Expand sidebar category &#x27;Secret Management&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/identus-docs/tutorials/webhooks/webhook">Webhooks</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/identus-docs/tutorials/multitenancy/tenant-onboarding">Multi-Tenancy</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/identus-docs/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/identus-docs/tutorials/category/credentials"><span itemprop="name">Credentials</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Issue credentials (DIDComm)</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Issue credentials (DIDComm)</h1></header>
<p>In the Identus Platform, the <a href="/identus-docs/docs/concepts/glossary#issue-credentials-protocol">Issue Credentials Protocol</a> allows you to create, retrieve, and manage issued <a href="/identus-docs/docs/concepts/glossary#verifiable-credentials">verifiable credentials (VCs)</a> between a VC issuer and a VC holder.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="roles">Roles<a href="#roles" class="hash-link" aria-label="Direct link to Roles" title="Direct link to Roles">​</a></h2>
<p>In the Issue Credentials Protocol, there are two roles:</p>
<ol>
<li>The <a href="/identus-docs/docs/concepts/glossary#issuer">Issuer</a> is responsible for creating a new credential offer, sending it to a Holder, and issuing the VC once the offer is accepted.</li>
<li>The <a href="/identus-docs/docs/concepts/glossary#holder">Holder</a> is responsible for accepting a credential offer from an issuer and receiving the VC.</li>
</ol>
<p>The Issuer and Holder interact with the Identus Cloud Agent API to perform the operations defined in the protocol.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="prerequisites">Prerequisites<a href="#prerequisites" class="hash-link" aria-label="Direct link to Prerequisites" title="Direct link to Prerequisites">​</a></h2>
<p>Before using the Issuing Credentials protocol, the following conditions must be present:</p>
<div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">JWT</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">AnonCreds</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">SDJWT</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><ol>
<li>Issuer and Holder Cloud Agents up and running</li>
<li>A connection must be established between the Issuer and Holder Cloud Agents (see <a href="/identus-docs/tutorials/connections/connection">Connections</a>)</li>
<li>The Issuer must have a published PRISM DID, and the <a href="/identus-docs/docs/concepts/glossary#did-document">DID document</a> must have at least one <code>assertionMethod</code> key for issuing credentials (see <a href="/identus-docs/tutorials/dids/create">Create DID</a> and <a href="/identus-docs/tutorials/dids/publish">Publish DID</a>)</li>
<li>The Holder must have a PRISM DID, and the DID document must have at least one <code>authentication</code> key for presenting the proof.</li>
</ol></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><ol>
<li>Issuer and Holder Cloud Agents up and running</li>
<li>A connection must be established between the Issuer and Holder Cloud Agents (see <a href="/identus-docs/tutorials/connections/connection">Connections</a>)</li>
<li>The Issuer must have created an AnonCreds Credential Definition as described <a href="/identus-docs/tutorials/credentialdefinition/create">here</a>.</li>
</ol></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><ul>
<li>📌 <strong>Note:</strong> Currently we only support <code>Ed25519</code> curve</li>
</ul><ol>
<li>Issuer and Holder Cloud Agents up and running</li>
<li>A connection must be established between the Issuer and Holder Cloud Agents (see <a href="/identus-docs/tutorials/connections/connection">Connections</a>)</li>
<li>The Issuer must have a published PRISM DID, and the <a href="/identus-docs/docs/concepts/glossary#did-document">DID document</a> must have at least one <code>assertionMethod</code> key for issuing credentials and the curve must be <code>Ed25519</code> (see <a href="/identus-docs/tutorials/dids/create">Create DID</a> and <a href="/identus-docs/tutorials/dids/publish">Publish DID</a>)</li>
<li>The Holder must have a PRISM DID, and the DID document must have at least one <code>authentication</code> key for presenting the proof and the curve must be <code>Ed25519</code>.</li>
</ol></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="overview">Overview<a href="#overview" class="hash-link" aria-label="Direct link to Overview" title="Direct link to Overview">​</a></h2>
<p>The protocol described is a VC issuance process between two Identus Cloud Agents, the Issuer and the Holder.</p>
<p>The protocol consists of the following main parts:</p>
<ol>
<li>The Issuer creates a new credential offer using the <a href="/identus-docs/agent-api/#tag/Issue-Credentials-Protocol/operation/createCredentialOffer"><code>/issue-credentials/credential-offers</code></a> endpoint, which includes information such as the schema identifier and claims.</li>
<li>The Holder can then retrieve the offer using the <a href="/identus-docs/agent-api/#tag/Issue-Credentials-Protocol/operation/getCredentialRecords"><code>/issue-credentials/records</code></a> endpoint and accept the offer using the <a href="/identus-docs/agent-api/#tag/Issue-Credentials-Protocol/operation/acceptCredentialOffer"><code>/issue-credentials/records/{recordId}/accept-offer</code></a> endpoint.</li>
<li>The Issuer then uses the <a href="/identus-docs/agent-api/#tag/Issue-Credentials-Protocol/operation/issueCredential"><code>/issue-credentials/records/{recordId}/issue-credential</code></a> endpoint to issue the credential, which gets sent to the Holder via <a href="/identus-docs/docs/concepts/glossary#didcomm">DIDComm</a>. The Holder receives the credential, and the protocol is complete.</li>
</ol>
<p>The claims provide specific information about the individual, such as their name or qualifications.</p>
<p>This protocol is applicable in various real-life scenarios, such as educational credentialing, employment verification, and more.
In these scenarios, the Issuer could be a school, an employer, etc., and the Holder could be a student or an employee.
The VCs issued during this protocol could represent a diploma, a certificate of employment, etc.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="endpoints">Endpoints<a href="#endpoints" class="hash-link" aria-label="Direct link to Endpoints" title="Direct link to Endpoints">​</a></h2>
<table><thead><tr><th>Endpoint</th><th>Description</th><th>Role</th></tr></thead><tbody><tr><td><a href="/identus-docs/agent-api/#tag/Issue-Credentials-Protocol/operation/createCredentialOffer"><code>/issue-credentials/credential-offers</code></a></td><td>This endpoint allows you to create a new credential offer</td><td>Issuer</td></tr><tr><td><a href="/identus-docs/agent-api/#tag/Issue-Credentials-Protocol/operation/getCredentialRecords"><code>/issue-credentials/records</code></a></td><td>This endpoint allows you to retrieve a collection of all the existing credential records</td><td>Issuer, Holder</td></tr><tr><td><a href="/identus-docs/agent-api/#tag/Issue-Credentials-Protocol/operation/getCredentialRecord"><code>/issue-credentials/records/{recordId}</code></a></td><td>This endpoint allows you to retrieve a specific credential record by its <code>id</code></td><td>Issuer, Holder</td></tr><tr><td><a href="/identus-docs/agent-api/#tag/Issue-Credentials-Protocol/operation/acceptCredentialOffer"><code>/issue-credentials/records/{recordId}/accept-offer</code></a></td><td>This endpoint allows you to accept a credential offer</td><td>Holder</td></tr><tr><td><a href="/identus-docs/agent-api/#tag/Issue-Credentials-Protocol/operation/issueCredential"><code>/issue-credentials/records/{recordId}/issue-credential</code></a></td><td>This endpoint allows you to issue a VC for a specific credential record.</td><td>Issuer</td></tr></tbody></table>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_BuS1"><p>Please check the full <a href="/identus-docs/agent-api">Cloud Agent API</a> specification for more detailed information.</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="issuer-interactions">Issuer interactions<a href="#issuer-interactions" class="hash-link" aria-label="Direct link to Issuer interactions" title="Direct link to Issuer interactions">​</a></h2>
<p>This section describes the Issuer role&#x27;s available interactions with the Cloud Agent.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="creating-a-credential-offer">Creating a Credential Offer<a href="#creating-a-credential-offer" class="hash-link" aria-label="Direct link to Creating a Credential Offer" title="Direct link to Creating a Credential Offer">​</a></h3>
<p>To start the process, the issuer needs to create a credential offer.
To do this, make a <code>POST</code> request to the <a href="/identus-docs/agent-api/#tag/Issue-Credentials-Protocol/operation/createCredentialOffer"><code>/issue-credentials/credential-offers</code></a> endpoint with a JSON payload that includes the following information:</p>
<div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">JWT</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">AnonCreds</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">SDJWT</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><ol>
<li><code>claims</code>: The data stored in a verifiable credential. Claims get expressed in a key-value format. The claims contain the data that the issuer attests to, such as name, address, date of birth, and so on.</li>
<li><code>issuingDID</code>: The DID referring to the issuer to issue this credential from</li>
<li><code>connectionId</code>: The unique ID of the connection between the holder and the issuer to offer this credential over.</li>
<li><code>schemaId</code>: An optional field that, if specified, contains a valid URL to an existing VC schema.
The Cloud Agent must be able to dereference the specified URL (i.e. fetch the VC schema content from it), in order to validate the provided claims against it.
When not specified, the claims fields is not validated and can be any valid JSON object.
Please refer to the <a href="/identus-docs/tutorials/schemas/create">Create VC schema</a> doc for details on how to create a VC schema.</li>
<li><code>credentialFormat</code>: The format of the credential that will be issued - <code>JWT</code> in this case. When not specified, the default value is <code>JWT</code>.</li>
</ol><div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>The <code>issuingDID</code> and <code>connectionId</code> properties come from completing the pre-requisite steps listed above</p></div></div><p>Once the request initiates, a new credential record for the issuer gets created with a unique ID. The state of this record is now <code>OfferPending</code>.</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Issuer POST request to create a new credential offer</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">curl -X &#x27;POST&#x27; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &#x27;http://localhost:8080/cloud-agent/issue-credentials/credential-offers&#x27; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -H &#x27;accept: application/json&#x27; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -H &#x27;Content-Type: application/json&#x27; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -H &quot;apikey: $API_KEY&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -d &#x27;{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &quot;claims&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;emailAddress&quot;: &quot;alice@wonderland.com&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;givenName&quot;: &quot;Alice&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;familyName&quot;: &quot;Wonderland&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;dateOfIssuance&quot;: &quot;2020-11-13T20:20:39+00:00&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;drivingLicenseID&quot;: &quot;12345&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;drivingClass&quot;: 3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &quot;credentialFormat&quot;: &quot;JWT&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &quot;issuingDID&quot;: &quot;did:prism:9f847f8bbb66c112f71d08ab39930d468ccbfe1e0e1d002be53d46c431212c26&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &quot;connectionId&quot;: &quot;9d075518-f97e-4f11-9d10-d7348a7a0fda&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &quot;schemaId&quot;: &quot;http://localhost:8080/cloud-agent/schema-registry/schemas/3f86a73f-5b78-39c7-af77-0c16123fa9c2&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><ol>
<li><code>claims</code>: The data stored in a verifiable credential. AnonCreds claims get expressed in a flat, &quot;string -&gt; string&quot;, key-value pair format. The claims contain the data that the issuer attests to, such as name, address, date of birth, and so on.</li>
<li><code>connectionId</code>: The unique ID of the connection between the holder and the issuer to offer this credential over.</li>
<li><code>credentialDefinitionId</code>: The unique ID of the <a href="/identus-docs/tutorials/credentialdefinition/credential-definition">credential definition</a> that has been created by the issuer as a prerequisite. Please refer to the <a href="/identus-docs/tutorials/credentialdefinition/credential-definition">Create AnonCreds Credential Definition</a> doc for details on how to create a credential definition.</li>
<li><code>credentialFormat</code>: The format of the credential that will be issued - <code>AnonCreds</code> in this case.</li>
</ol><div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>The <code>connectionId</code> and <code>credentialDefinitionId</code> properties come from completing the pre-requisite steps listed above</p></div></div><p>Once the request initiates, a new credential record for the issuer gets created with a unique ID. The state of this record is now <code>OfferPending</code>.</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Issuer POST request to create a new credential offer</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">curl -X &#x27;POST&#x27; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &#x27;http://localhost:8080/cloud-agent/issue-credentials/credential-offers&#x27; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -H &#x27;accept: application/json&#x27; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -H &#x27;Content-Type: application/json&#x27; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -H &quot;apikey: $API_KEY&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -d &#x27;{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &quot;claims&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;emailAddress&quot;: &quot;alice@wonderland.com&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;givenName&quot;: &quot;Alice&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;familyName&quot;: &quot;Wonderland&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;dateOfIssuance&quot;: &quot;2020-11-13T20:20:39+00:00&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;drivingLicenseID&quot;: &quot;12345&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;drivingClass&quot;: &quot;3&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &quot;credentialFormat&quot;: &quot;AnonCreds&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &quot;connectionId&quot;: &quot;9d075518-f97e-4f11-9d10-d7348a7a0fda&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &quot;credentialDefinitionId&quot;: &quot;5d737816-8fe8-3492-bfe3-1b3e2b67220b&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><ol>
<li><code>claims</code>: The data stored in a verifiable credential. Claims get expressed in a key-value format. The claims contain the data that the issuer attests to, such as name, address, date of birth, and so on.</li>
<li><code>issuingDID</code>: The DID referring to the issuer to issue this credential from</li>
<li><code>connectionId</code>: The unique ID of the connection between the holder and the issuer to offer this credential over.</li>
<li><code>schemaId</code>: An optional field that, if specified, contains a valid URL to an existing VC schema.
The Cloud Agent must be able to dereference the specified URL (i.e. fetch the VC schema content from it), in order to validate the provided claims against it.
When not specified, the claims fields is not validated and can be any valid JSON object.
Please refer to the <a href="/identus-docs/tutorials/schemas/create">Create VC schema</a> doc for details on how to create a VC schema.</li>
<li><code>credentialFormat</code>: The format of the credential that will be issued - <code>SDJWT</code> in this case.</li>
</ol><div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>The <code>issuingDID</code> and <code>connectionId</code> properties come from completing the pre-requisite steps listed above</p></div></div><ul>
<li>📌 <strong>Note:</strong> Claims can also include the <code>exp</code> Expiration Time attribute, which is part of JWT claims. <code>exp</code> attribute is disclosable if specified and can have a value in epoch time (in seconds), indicating when the SDJWT credential expires for more details
<a href="https://datatracker.ietf.org/doc/html/rfc7519#page-9" target="_blank" rel="noopener noreferrer">RFC5719</a></li>
</ul><p>Once the request initiates, a new credential record for the issuer gets created with a unique ID. The state of this record is now <code>OfferPending</code>.</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Issuer POST request to create a new credential offer</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">curl -X &#x27;POST&#x27; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &#x27;http://localhost:8080/cloud-agent/issue-credentials/credential-offers&#x27; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -H &#x27;accept: application/json&#x27; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -H &#x27;Content-Type: application/json&#x27; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -H &quot;apikey: $API_KEY&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -d &#x27;{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &quot;claims&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;emailAddress&quot;: &quot;alice@wonderland.com&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;givenName&quot;: &quot;Alice&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;familyName&quot;: &quot;Wonderland&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;dateOfIssuance&quot;: &quot;2020-11-13T20:20:39+00:00&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;drivingLicenseID&quot;: &quot;12345&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;drivingClass&quot;: 3,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;exp&quot; : 1883000000</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &quot;credentialFormat&quot;: &quot;SDJWT&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &quot;issuingDID&quot;: &quot;did:prism:9f847f8bbb66c112f71d08ab39930d468ccbfe1e0e1d002be53d46c431212c26&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &quot;connectionId&quot;: &quot;9d075518-f97e-4f11-9d10-d7348a7a0fda&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &quot;schemaId&quot;: &quot;http://localhost:8080/cloud-agent/schema-registry/schemas/3f86a73f-5b78-39c7-af77-0c16123fa9c2&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="sending-the-offer-to-the-holder">Sending the Offer to the Holder<a href="#sending-the-offer-to-the-holder" class="hash-link" aria-label="Direct link to Sending the Offer to the Holder" title="Direct link to Sending the Offer to the Holder">​</a></h3>
<p>The next step for the Issuer is to send the offer to the holder using DIDComm.
To do this, the Issuer agent will process the offer and send it to the holder agent.
This process is automatic. The state of the Issuer&#x27;s record will change to <code>OfferSent</code>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="issuing-the-credential">Issuing the Credential<a href="#issuing-the-credential" class="hash-link" aria-label="Direct link to Issuing the Credential" title="Direct link to Issuing the Credential">​</a></h3>
<p>Once the holder has approved the offer and sent a request to the Issuer,
the Issuer will receive the request via DIDComm and update the record state to <code>RequestReceived.</code></p>
<p>The Issuer can then use the <a href="/identus-docs/agent-api/#tag/Issue-Credentials-Protocol/operation/issueCredential"><code>/issue-credentials/records/{recordId}/issue-credential</code></a> endpoint to issue the credential to the holder.</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Issuer POST request to issue the credential</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># make sure you have `issuer_record_id` extracted from created credential offer</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># and the record achieved `RequestReceived` state</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">curl -X POST \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;http://localhost:8080/cloud-agent/issue-credentials/records/$issuer_record_id/issue-credential&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -H &quot;Content-Type: application/json&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -H &quot;apikey: $API_KEY&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>When this endpoint gets called, the state of the record will change to <code>CredentialPending,</code> and after processing, it will change to <code>CredentialGenerated.</code></p>
<p>Finally, the Issuer agent will send the credential to the holder via DIDComm,
and the state of the record will change to <code>CredentialSent</code>.
At this point, the Issuer&#x27;s interactions with the holder are complete.</p>
<!-- -->
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="holder-interactions">Holder interactions<a href="#holder-interactions" class="hash-link" aria-label="Direct link to Holder interactions" title="Direct link to Holder interactions">​</a></h2>
<p>This section describes the Holder role&#x27;s available interactions with the Cloud Agent.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="receiving-the-vc-offer">Receiving the VC Offer<a href="#receiving-the-vc-offer" class="hash-link" aria-label="Direct link to Receiving the VC Offer" title="Direct link to Receiving the VC Offer">​</a></h3>
<p>The Holder will receive the offer from the Issuer via DIDComm,
and a new credential record with a unique ID gets created in the <code>OfferReceived</code> state.</p>
<p>This process is automatic for the Cloud Agent.</p>
<p>You could check if a new credential offer is available using <a href="/identus-docs/#tag/Issue-Credentials-Protocol/operation/getCredentialRecords"><code>/issue-credentials/records</code></a> request and check for any records available in <code>OfferReceived</code> state:</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Holder GET request to retrieve credential records</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">curl &quot;http://localhost:8090/cloud-agent/issue-credentials/records&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -H &quot;Content-Type: application/json&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -H &quot;apikey: $API_KEY&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="approving-the-vc-offer">Approving the VC Offer<a href="#approving-the-vc-offer" class="hash-link" aria-label="Direct link to Approving the VC Offer" title="Direct link to Approving the VC Offer">​</a></h3>
<p>To accept the offer, the Holder can make a <code>POST</code> request to the <a href="/identus-docs/agent-api/#tag/Issue-Credentials-Protocol/operation/acceptCredentialOffer"><code>/issue-credentials/records/{recordId}/accept-offer</code></a> endpoint with a JSON payload that includes the following information:</p>
<div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">JWT</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">anoncreds</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">SDJWT</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><ol>
<li><code>holder_record_id</code>: The unique identifier of the issue credential record known by the holder&#x27;s Cloud Agent.</li>
<li><code>subjectId</code>: This field represents the unique identifier for the subject of the verifiable credential. It is a short-form PRISM <a href="/identus-docs/docs/concepts/glossary#decentralized-identifier">DID</a> string, such as <code>did:prism:subjectIdentifier</code>.</li>
</ol><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Holder POST request to accept the credential offer</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">curl -X POST &quot;http://localhost:8090/cloud-agent/issue-credentials/records/$holder_record_id/accept-offer&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -H &#x27;accept: application/json&#x27; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -H &#x27;Content-Type: application/json&#x27; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -H &quot;apikey: $API_KEY&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -d &#x27;{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &quot;subjectId&quot;: &quot;did:prism:subjectIdentifier&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     }&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><ol>
<li><code>holder_record_id</code>: The unique identifier of the issue credential record known by the holder&#x27;s Cloud Agent.</li>
</ol><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Holder POST request to accept the credential offer</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">curl -X POST &quot;http://localhost:8090/cloud-agent/issue-credentials/records/$holder_record_id/accept-offer&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -H &#x27;accept: application/json&#x27; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -H &#x27;Content-Type: application/json&#x27; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -H &quot;apikey: $API_KEY&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -d &#x27;{}&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><ol>
<li>
<p><code>holder_record_id</code>: The unique identifier of the issue credential record known by the holder&#x27;s Cloud Agent.</p>
</li>
<li>
<p><code>subjectId</code>: This field represents the unique identifier for the subject of the verifiable credential. It is a short-form PRISM <a href="/identus-docs/docs/concepts/glossary#decentralized-identifier">DID</a> string, such as <code>did:prism:subjectIdentifier</code>.</p>
</li>
<li>
<p><code>keyId</code> Option parameter</p>
<ol>
<li>when keyId is not provided the SDJWT VC is not binded to Holder/Prover key</li>
</ol>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Holder POST request to accept the credential offer</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">curl -X POST &quot;http://localhost:8090/cloud-agent/issue-credentials/records/$holder_record_id/accept-offer&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -H &#x27;accept: application/json&#x27; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -H &#x27;Content-Type: application/json&#x27; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -H &quot;apikey: $API_KEY&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -d &#x27;{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &quot;subjectId&quot;: &quot;did:prism:subjectIdentifier&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     }&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>A SD-JWT Verifiable Credential (VC) without a <code>cnf</code> key could possibly look like below</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;_sd&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;CrQe7S5kqBAHt-nMYXgc6bdt2SH5aTY1sU_M-PgkjPI&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;JzYjH4svliH0R3PyEMfeZu6Jt69u5qehZo7F7EPYlSE&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;PorFbpKuVu6xymJagvkFsFXAbRoc2JGlAUA2BA4o7cI&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;TGf4oLbgwd5JQaHyKVQZU9UdGE0w5rtDsrZzfUaomLo&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;XQ_3kPKt1XyX7KANkqVR6yZ2Va5NrPIvPYbyMvRKBMM&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;XzFrzwscM6Gn6CJDc6vVK8BkMnfG8vOSKfpPIZdAfdE&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;gbOsI4Edq2x2Kw-w5wPEzakob9hV1cRD0ATN3oQL9JM&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;jsu9yVulwQQlhFlM_3JlzMaSFzglhQG0DpfayQwLUK4&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;iss&quot;: &quot;https://issuer.example.com&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;iat&quot;: 1683000000,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;exp&quot;: 1883000000,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;sub&quot;: &quot;user_42&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;_sd_alg&quot;: &quot;sha-256&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol start="2">
<li><code>keyId</code>: This is optional field but must be specified to choose which key bounds to the verifiable credential.
For more information on key-binding, <a href="https://datatracker.ietf.org/doc/draft-ietf-oauth-selective-disclosure-jwt" target="_blank" rel="noopener noreferrer">ietf-oauth-selective-disclosure-jwt</a>.
Currently, we only support the EdDSA algorithm and curve Ed25519.
The specified keyId should be of type Ed25519.
The purpose of the keyId should be authentication.</li>
</ol>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Holder POST request to accept the credential offer with keyId</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">curl -X POST &quot;http://localhost:8090/cloud-agent/issue-credentials/records/$holder_record_id/accept-offer&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -H &#x27;accept: application/json&#x27; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -H &#x27;Content-Type: application/json&#x27; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -H &quot;apikey: $API_KEY&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -d &#x27;{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &quot;subjectId&quot;: &quot;did:prism:subjectIdentifier&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          &quot;keyId&quot;: &quot;key-1&quot;    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     }&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>A SD-JWT Verifiable Credential (VC) that includes a <code>cnf</code> key could possibly look like below</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;_sd&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;CrQe7S5kqBAHt-nMYXgc6bdt2SH5aTY1sU_M-PgkjPI&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;JzYjH4svliH0R3PyEMfeZu6Jt69u5qehZo7F7EPYlSE&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;PorFbpKuVu6xymJagvkFsFXAbRoc2JGlAUA2BA4o7cI&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;TGf4oLbgwd5JQaHyKVQZU9UdGE0w5rtDsrZzfUaomLo&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;XQ_3kPKt1XyX7KANkqVR6yZ2Va5NrPIvPYbyMvRKBMM&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;XzFrzwscM6Gn6CJDc6vVK8BkMnfG8vOSKfpPIZdAfdE&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;gbOsI4Edq2x2Kw-w5wPEzakob9hV1cRD0ATN3oQL9JM&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;jsu9yVulwQQlhFlM_3JlzMaSFzglhQG0DpfayQwLUK4&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;iss&quot;: &quot;https://issuer.example.com&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;iat&quot;: 1683000000,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;exp&quot;: 1883000000,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;sub&quot;: &quot;user_42&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;_sd_alg&quot;: &quot;sha-256&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;cnf&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;jwk&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;kty&quot;: &quot;EC&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;crv&quot;: &quot;P-256&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;x&quot;: &quot;TCAER19Zvu3OHF4j4W4vfSVoHIP1ILilDls7vCeGemc&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;y&quot;: &quot;ZxjiWWbZMQGHVWKVQ4hbSIirsVfuecCE6t4jT9F2HZQ&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ol></div></div></div>
<p>This request will change the state of the record to <code>RequestPending</code>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="receiving-the-vc-credential">Receiving the VC Credential<a href="#receiving-the-vc-credential" class="hash-link" aria-label="Direct link to Receiving the VC Credential" title="Direct link to Receiving the VC Credential">​</a></h3>
<p>Once the Holder has approved the offer and sent a request to the Issuer, the Holder agent will process the request and send it to the Issuer agent.
The state of the Holder&#x27;s record will change to <code>RequestSent</code>.</p>
<p>After the Issuer has issued the credential, the Holder will receive the credential via DIDComm, and the state of the Holder&#x27;s record will change to <code>CredentialReceived</code>.
This process is automatic for the Cloud Agent.</p>
<p>The Holder can check the achieved credential using a GET request to <a href="/identus-docs/agent-api/#tag/Issue-Credentials-Protocol/operation/getCredentialRecord"><code>/issue-credentials/records/{recordId}/</code></a> endpoint.</p>
<!-- -->
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="sequence-diagram">Sequence diagram<a href="#sequence-diagram" class="hash-link" aria-label="Direct link to Sequence diagram" title="Direct link to Sequence diagram">​</a></h2>
<p>The following diagram shows the end-to-end flow for an issuer to issue a VC to a holder.</p>
<div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">JWT</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">AnonCreds</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><p><img decoding="async" loading="lazy" src="/identus-docs/assets/images/issue-flow-11d234a161e3e9a34314bfaa4ca630f3.png" width="1362" height="2017" class="img_ev3q"></p></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><p><img decoding="async" loading="lazy" src="/identus-docs/assets/images/anoncreds-issue-flow-0756e11aed09e7507347ce0ebdbf378e.png" width="1625" height="2188" class="img_ev3q"></p></div></div></div></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/identus-docs/tutorials/category/credentials"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Credentials</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/identus-docs/tutorials/credentials/oid4vci"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Issue credentials (OID4VCI)</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#roles" class="table-of-contents__link toc-highlight">Roles</a></li><li><a href="#prerequisites" class="table-of-contents__link toc-highlight">Prerequisites</a></li><li><a href="#overview" class="table-of-contents__link toc-highlight">Overview</a></li><li><a href="#endpoints" class="table-of-contents__link toc-highlight">Endpoints</a></li><li><a href="#issuer-interactions" class="table-of-contents__link toc-highlight">Issuer interactions</a><ul><li><a href="#creating-a-credential-offer" class="table-of-contents__link toc-highlight">Creating a Credential Offer</a></li><li><a href="#sending-the-offer-to-the-holder" class="table-of-contents__link toc-highlight">Sending the Offer to the Holder</a></li><li><a href="#issuing-the-credential" class="table-of-contents__link toc-highlight">Issuing the Credential</a></li></ul></li><li><a href="#holder-interactions" class="table-of-contents__link toc-highlight">Holder interactions</a><ul><li><a href="#receiving-the-vc-offer" class="table-of-contents__link toc-highlight">Receiving the VC Offer</a></li><li><a href="#approving-the-vc-offer" class="table-of-contents__link toc-highlight">Approving the VC Offer</a></li><li><a href="#receiving-the-vc-credential" class="table-of-contents__link toc-highlight">Receiving the VC Credential</a></li></ul></li><li><a href="#sequence-diagram" class="table-of-contents__link toc-highlight">Sequence diagram</a></li></ul></div></div></div></div></main></div></div></div><div class="container"><footer class="footer_J6tW"><svg xmlns="http://www.w3.org/2000/svg" width="145" height="38" fill="none"></svg><span class="copyright_C6JK">Hyperledger Identus CC BY 4.0</span></footer></div></div>
</body>
</html>