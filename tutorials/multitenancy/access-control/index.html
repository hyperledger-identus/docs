<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-tutorials docs-version-current docs-doc-page docs-doc-id-multitenancy/access-control" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.4.0">
<title data-rh="true">Access Control | Hyperledger Identus</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://hyperledger.github.io/identus-docs/tutorials/multitenancy/access-control"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-tutorials-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-tutorials-current"><meta data-rh="true" property="og:title" content="Access Control | Hyperledger Identus"><meta data-rh="true" name="description" content="Status: draft"><meta data-rh="true" property="og:description" content="Status: draft"><link data-rh="true" rel="icon" href="/identus-docs/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://hyperledger.github.io/identus-docs/tutorials/multitenancy/access-control"><link data-rh="true" rel="alternate" href="https://hyperledger.github.io/identus-docs/tutorials/multitenancy/access-control" hreflang="en"><link data-rh="true" rel="alternate" href="https://hyperledger.github.io/identus-docs/tutorials/multitenancy/access-control" hreflang="x-default"><link rel="stylesheet" href="/identus-docs/assets/css/styles.7aa07c05.css">
<script src="/identus-docs/assets/js/runtime~main.f4d342a2.js" defer="defer"></script>
<script src="/identus-docs/assets/js/main.3dd4973a.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/identus-docs/"><div class="navbar__logo"><img src="/identus-docs/img/identus-navbar-light.png" alt=" Identus logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/identus-docs/img/identus-navbar-light.png" alt=" Identus logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div></a><a class="navbar__item navbar__link" href="/identus-docs/docs/getting-started">Docs</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/identus-docs/tutorials/">Tutorials</a><a class="navbar__item navbar__link" href="/identus-docs/adrs/">ADRs</a><a class="navbar__item navbar__link" href="/identus-docs/agent-api/">Agent API</a><div class="navbar__item dropdown dropdown--hoverable"><a aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link" href="/identus-docs/tutorials/multitenancy/access-control">SDKs</a><ul class="dropdown__menu"><li><a href="https://hyperledger.github.io/identus-edge-agent-sdk-swift/documentation/edgeagentsdk/" target="_blank" rel="noopener noreferrer" class="dropdown__link">Edge Agent SDK Swift<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a class="dropdown__link" href="/identus-docs/identus-edge-agent-sdk-ts/sdk">Edge Agent SDK Typescript</a></li><li><a href="https://hyperledger.github.io/identus-edge-agent-sdk-kmp/" target="_blank" rel="noopener noreferrer" class="dropdown__link">Edge Agent SDK Kotlin Multiplatform<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><a href="https://github.com/input-output-hk/prism-did-method-spec/blob/main/w3c-spec/PRISM-method.md" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">PRISM DID Spec<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input id="search_input_react" type="search" placeholder="Loading..." aria-label="Search" class="navbar__search-input search-bar" disabled=""></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><main class="docMainContainer_TBSr docMainContainerEnhanced_lQrH"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Access Control</h1>
<p><strong>Status</strong>: draft</p>
<p><strong>Date</strong>: 2021-06-02</p>
<p><strong>NOTE</strong>: this document is a draft and is not implemented yet. Statement in this document might be changed in the future.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="introduction">Introduction<a class="hash-link" aria-label="Direct link to Introduction" title="Direct link to Introduction" href="/identus-docs/tutorials/multitenancy/access-control#introduction">​</a></h2>
<p>Current document describes the levels of access control in the Identus Platform configured in the Vault service
The Vault service uses policies to control the access to the secrets, configuration, and other resources.
The policies are applied to the entities and groups of entities.</p>
<p>According to the Principle of Least Privilege (PoLP), the access to the resources must be granted to the entities with the minimal set of permissions required to perform the operation.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="accounts">Accounts<a class="hash-link" aria-label="Direct link to Accounts" title="Direct link to Accounts" href="/identus-docs/tutorials/multitenancy/access-control#accounts">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="sudo-account">SUDO Account<a class="hash-link" aria-label="Direct link to SUDO Account" title="Direct link to SUDO Account" href="/identus-docs/tutorials/multitenancy/access-control#sudo-account">​</a></h3>
<p>The account with <code>sudo</code> privileges that allows to configure the Vault service.
The root token is used for this purpose.
The root token must be kept in the most safe place and not used for regular cases.</p>
<p>SUDO Account is used for the following purposes:</p>
<ul>
<li>configure the Vault service</li>
<li>configure authentication methods</li>
<li>configure Management Accounts</li>
</ul>
<p>Managed by DevOps and SRE teams.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="management-account">Management Account<a class="hash-link" aria-label="Direct link to Management Account" title="Direct link to Management Account" href="/identus-docs/tutorials/multitenancy/access-control#management-account">​</a></h3>
<p>Management Account is special account that allows to manage the Cloud Agent.</p>
<p>The account with the limited access to configure the Vault service with the following permissions:</p>
<ul>
<li>manage the Wallet accounts</li>
<li>manage the Agent accounts</li>
<li>enforces the policies to the Wallet account</li>
</ul>
<p>Management Account can be used in the configuration scripts or by the SRE team.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="agent-account">Agent Account<a class="hash-link" aria-label="Direct link to Agent Account" title="Direct link to Agent Account" href="/identus-docs/tutorials/multitenancy/access-control#agent-account">​</a></h3>
<p>Agent Account is created for the Cloud Agent to authenticate itself to the Vault service.
AppRole authentication method is used for this account.</p>
<p>The account with the limited access to configure the Vault service with the following permissions:</p>
<ul>
<li>create the Wallet accounts</li>
<li>issue the token to the Wallet account</li>
<li>do other operations required to configure the Wallet account</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="wallet-account">Wallet Account<a class="hash-link" aria-label="Direct link to Wallet Account" title="Direct link to Wallet Account" href="/identus-docs/tutorials/multitenancy/access-control#wallet-account">​</a></h3>
<p>The Wallet Account is created for and used by the Wallet.
The Wallet Account is has access to the secrets of the Wallet and the Cloud Agent must guarantee the data isolation at the Wallet level.
This account has the following permissions:</p>
<ul>
<li>list, read, write, delete the secrets associated with the Wallet</li>
<li>use the REST API associated with the Wallet</li>
<li>manage the data associated with the Wallet</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="technical-overview">Technical Overview<a class="hash-link" aria-label="Direct link to Technical Overview" title="Direct link to Technical Overview" href="/identus-docs/tutorials/multitenancy/access-control#technical-overview">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="principle-of-least-privilege">Principle of Least Privilege<a class="hash-link" aria-label="Direct link to Principle of Least Privilege" title="Direct link to Principle of Least Privilege" href="/identus-docs/tutorials/multitenancy/access-control#principle-of-least-privilege">​</a></h3>
<p>The Principle of Least Privilege (PoLP) is a security concept that requires that a user is granted no more privilege than necessary to perform a task.
The following practices are applied to implement the PoLP:</p>
<ul>
<li>audit: all the credentials are audited and must be under control of the SRE team</li>
<li>administrator and business accounts are separated</li>
<li>activity monitoring: activity of the administrator accounts is monitored</li>
<li>just-in-time access: the access to the resources is granted only for the time required to perform the operation</li>
</ul>
<p><strong>NOTE</strong>: there are other PoLP practices that are not covered in this document. These practices will be ignored for local development and testing purposes.</p>
<p>In order to implement the PoLP, the following access control rules are defined:</p>
<ul>
<li>the Cloud Agent account has access to the Wallet account that belong to the Agent only</li>
<li>the Cloud Agent account transparently issues the token to the Wallet account based on configured authentication method</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="token-issuing-renewal-expiration-and-revocation">Token Issuing, Renewal, Expiration and Revocation<a class="hash-link" aria-label="Direct link to Token Issuing, Renewal, Expiration and Revocation" title="Direct link to Token Issuing, Renewal, Expiration and Revocation" href="/identus-docs/tutorials/multitenancy/access-control#token-issuing-renewal-expiration-and-revocation">​</a></h3>
<p>These policies are applied to all tokens except the SUDO account (root token).</p>
<p>All tokens issued by the Identus Platform have the following properties:</p>
<ul>
<li>expiration time</li>
<li>maximum time to live (TTL)</li>
<li>renewable flag</li>
<li>orphan flag</li>
<li>policies</li>
<li>operation limitations (number of the requests that can be performed by the token)</li>
</ul>
<p>Management account token policies:</p>
<ul>
<li>authentication methods: GitHub, GoogleAuth, user/password</li>
<li>expiration time: 1 hour</li>
</ul>
<p>Agent Account token policies:</p>
<ul>
<li>authentication method: AppRole</li>
<li>token expiration time: 24 hour</li>
</ul>
<p>Wallet Account token policies:</p>
<ul>
<li>authentication methods: JWT, token issued by the Agent account, user/password</li>
<li>token expiration time: 1 hour</li>
</ul>
<p><strong>NOTE</strong>: user/password method is used for the development and testing purposes only.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="links">Links<a class="hash-link" aria-label="Direct link to Links" title="Direct link to Links" href="/identus-docs/tutorials/multitenancy/access-control#links">​</a></h2>
<ul>
<li><a href="https://www.vaultproject.io/docs/concepts/policies" target="_blank" rel="noopener noreferrer">Vault Policies</a></li>
<li><a href="https://www.vaultproject.io/docs/concepts/tokens" target="_blank" rel="noopener noreferrer">Vault Tokens</a></li>
<li><a href="https://www.vaultproject.io/docs/auth" target="_blank" rel="noopener noreferrer">Vault Authentication Methods</a></li>
<li><a href="https://www.vaultproject.io/docs/auth/approle" target="_blank" rel="noopener noreferrer">Vault AppRole Authentication Method</a></li>
<li><a href="https://www.vaultproject.io/docs/auth/jwt" target="_blank" rel="noopener noreferrer">Vault JWT Authentication Method</a></li>
<li><a href="https://www.vaultproject.io/docs/auth/github" target="_blank" rel="noopener noreferrer">Vault GitHub Authentication Method</a></li>
<li><a href="https://www.vaultproject.io/docs/auth/google" target="_blank" rel="noopener noreferrer">Vault GoogleAuth Authentication Method</a></li>
<li><a href="https://www.vaultproject.io/docs/auth/userpass" target="_blank" rel="noopener noreferrer">Vault Userpass Authentication Method</a></li>
<li><a href="https://www.vaultproject.io/docs/concepts/tokens" target="_blank" rel="noopener noreferrer">Vault Tokens</a></li>
</ul></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a class="table-of-contents__link toc-highlight" href="/identus-docs/tutorials/multitenancy/access-control#introduction">Introduction</a></li><li><a class="table-of-contents__link toc-highlight" href="/identus-docs/tutorials/multitenancy/access-control#accounts">Accounts</a><ul><li><a class="table-of-contents__link toc-highlight" href="/identus-docs/tutorials/multitenancy/access-control#sudo-account">SUDO Account</a></li><li><a class="table-of-contents__link toc-highlight" href="/identus-docs/tutorials/multitenancy/access-control#management-account">Management Account</a></li><li><a class="table-of-contents__link toc-highlight" href="/identus-docs/tutorials/multitenancy/access-control#agent-account">Agent Account</a></li><li><a class="table-of-contents__link toc-highlight" href="/identus-docs/tutorials/multitenancy/access-control#wallet-account">Wallet Account</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/identus-docs/tutorials/multitenancy/access-control#technical-overview">Technical Overview</a><ul><li><a class="table-of-contents__link toc-highlight" href="/identus-docs/tutorials/multitenancy/access-control#principle-of-least-privilege">Principle of Least Privilege</a></li><li><a class="table-of-contents__link toc-highlight" href="/identus-docs/tutorials/multitenancy/access-control#token-issuing-renewal-expiration-and-revocation">Token Issuing, Renewal, Expiration and Revocation</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/identus-docs/tutorials/multitenancy/access-control#links">Links</a></li></ul></div></div></div></div></main></div></div></div><div class="container"><footer class="footer_J6tW"><svg xmlns="http://www.w3.org/2000/svg" width="145" height="38" fill="none"></svg><span class="copyright_C6JK">Hyperledger Identus CC BY 4.0</span></footer></div></div>
</body>
</html>