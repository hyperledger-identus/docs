---
id: create-managed-did
title: "Create unpublished DID and store it in PrismAgent's wallet"
description: "Create unpublished DID and store it inside PrismAgent's wallet. The private keys of the DID is"
sidebar_label: "Create unpublished DID and store it in PrismAgent's wallet"
hide_title: true
hide_table_of_contents: true
api: {"tags":["DID Registrar"],"operationId":"createManagedDid","description":"Create unpublished DID and store it inside PrismAgent's wallet. The private keys of the DID is\nmanaged by PrismAgent. The DID can later be published to blockchain using publications endpoint.\n","requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["documentTemplate"],"properties":{"documentTemplate":{"type":"object","required":["storage","publicKeys","services"],"properties":{"publicKeys":{"type":"array","items":{"type":"object","required":["id","purpose"],"properties":{"id":{"type":"string","description":"Identifier of a verification material in the DID Document","example":"key1"},"purpose":{"type":"string","enum":["authentication","assertionMethod","keyAgreement","capabilityInvocation","capabilityDelegation"],"example":"authentication"}}}},"services":{"type":"array","items":{"type":"object","required":["id","type","serviceEndpoint"],"properties":{"id":{"type":"string","example":"service1"},"type":{"type":"string","enum":["MediatorService"],"example":"MediatorService"},"serviceEndpoint":{"type":"array","items":{"type":"string","example":"https://bar.example.com"}}}}}}}}}}}},"responses":{"200":{"description":"Created unpublished DID.","content":{"application/json":{"schema":{"type":"object","required":["did","longFormDid"],"properties":{"longFormDid":{"type":"string","description":"A long-form DID for the created DID","example":"did:prism:1:abc123:abc123"}}}}}},"422":{"description":"The DID creation failed.","content":{"application/json":{"schema":{"type":"object","description":"An RFC-7807 compliant data structure for reporting errors to the client","required":["type","title","status","instance"],"properties":{"type":{"type":"string","description":"A URI reference that identifies the problem type.","example":"https://example.org/doc/#model-MalformedEmail"},"title":{"type":"string","example":"Malformed email","description":"A short, human-readable summary of the problem type. It does not\nchange from occurrence to occurrence of the problem."},"status":{"type":"integer","format":"int32","example":400,"description":"The HTTP status code for this occurrence of the problem."},"detail":{"type":"string","description":"A human-readable explanation specific to this occurrence of the problem.","example":"The received '{}à!è@!.b}' email does not conform to the email format"},"instance":{"type":"string","example":"/problems/d914e","description":"A URI reference that identifies the specific occurrence of the problem.\nIt may or may not yield further information if dereferenced."}}}}}}},"method":"post","path":"/did-registrar/dids","servers":[{"url":"https://k8s-dev.atalaprism.io/prism-agent/"},{"url":"http://localhost/prism-agent"}],"security":[{"ApiKeyAuth":[]}],"securitySchemes":{"ApiKeyAuth":{"type":"apiKey","in":"header","name":"apikey"}},"jsonRequestBodyExample":{"documentTemplate":{"publicKeys":[{"id":"key1","purpose":"authentication"}],"services":[{"id":"service1","type":"MediatorService","serviceEndpoint":["https://bar.example.com"]}]}},"info":{"title":"PrismAgent OpenAPI specification","description":"OpenAPI specification for Decentralized Identifiers (DID) Operations","version":"0.1.0","contact":{"name":"Core DID","email":"atala-coredid@iohk.io"}},"postman":{"name":"Create unpublished DID and store it in PrismAgent's wallet","description":{"content":"Create unpublished DID and store it inside PrismAgent's wallet. The private keys of the DID is\nmanaged by PrismAgent. The DID can later be published to blockchain using publications endpoint.\n","type":"text/plain"},"url":{"path":["did-registrar","dids"],"host":["{{baseUrl}}"],"query":[],"variable":[]},"header":[{"key":"Content-Type","value":"application/json"},{"key":"Accept","value":"application/json"}],"method":"POST","body":{"mode":"raw","raw":"\"\"","options":{"raw":{"language":"json"}}}}}
sidebar_class_name: "post api-method"
info_path: documentation/api/agent-api/prismagent-openapi-specification
custom_edit_url: null
---

import ApiTabs from "@theme/ApiTabs";
import MimeTabs from "@theme/MimeTabs";
import ParamsItem from "@theme/ParamsItem";
import ResponseSamples from "@theme/ResponseSamples";
import SchemaItem from "@theme/SchemaItem";
import SchemaTabs from "@theme/SchemaTabs";
import DiscriminatorTabs from "@theme/DiscriminatorTabs";
import TabItem from "@theme/TabItem";

## Create unpublished DID and store it in PrismAgent's wallet



Create unpublished DID and store it inside PrismAgent's wallet. The private keys of the DID is
managed by PrismAgent. The DID can later be published to blockchain using publications endpoint.


<MimeTabs><TabItem label={"application/json"} value={"application/json-schema"}><details style={{}} data-collapsed={false} open={true}><summary style={{"textAlign":"left"}}><strong>Request Body</strong><strong style={{"fontSize":"var(--ifm-code-font-size)","color":"var(--openapi-required)"}}> required</strong></summary><div style={{"textAlign":"left","marginLeft":"1rem"}}></div><ul style={{"marginLeft":"1rem"}}><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}}><summary style={{}}><strong>documentTemplate</strong><span style={{"opacity":"0.6"}}> object</span><strong style={{"fontSize":"var(--ifm-code-font-size)","color":"var(--openapi-required)"}}> required</strong></summary><div style={{"marginLeft":"1rem"}}><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}}><summary style={{}}><strong>publicKeys</strong><span style={{"opacity":"0.6"}}> object[]</span><strong style={{"fontSize":"var(--ifm-code-font-size)","color":"var(--openapi-required)"}}> required</strong></summary><div style={{"marginLeft":"1rem"}}><SchemaItem collapsible={false} name={"id"} required={true} deprecated={undefined} schemaDescription={"Identifier of a verification material in the DID Document"} schemaName={"string"} qualifierMessage={undefined} defaultValue={undefined}></SchemaItem><SchemaItem collapsible={false} name={"purpose"} required={true} deprecated={undefined} schemaDescription={undefined} schemaName={"string"} qualifierMessage={"**Possible values:** [`authentication`, `assertionMethod`, `keyAgreement`, `capabilityInvocation`, `capabilityDelegation`]"} defaultValue={undefined}></SchemaItem></div></details></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}}><summary style={{}}><strong>services</strong><span style={{"opacity":"0.6"}}> object[]</span><strong style={{"fontSize":"var(--ifm-code-font-size)","color":"var(--openapi-required)"}}> required</strong></summary><div style={{"marginLeft":"1rem"}}><SchemaItem collapsible={false} name={"id"} required={true} deprecated={undefined} schemaDescription={undefined} schemaName={"string"} qualifierMessage={undefined} defaultValue={undefined}></SchemaItem><SchemaItem collapsible={false} name={"type"} required={true} deprecated={undefined} schemaDescription={undefined} schemaName={"string"} qualifierMessage={"**Possible values:** [`MediatorService`]"} defaultValue={undefined}></SchemaItem><SchemaItem collapsible={false} name={"serviceEndpoint"} required={true} deprecated={undefined} schemaDescription={undefined} schemaName={"string[]"} qualifierMessage={undefined} defaultValue={undefined}></SchemaItem></div></details></SchemaItem></div></details></SchemaItem></ul></details></TabItem></MimeTabs><div><ApiTabs><TabItem label={"200"} value={"200"}><div>

Created unpublished DID.

</div><div><MimeTabs schemaType={"response"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs><TabItem label={"Schema"} value={"Schema"}><details style={{}} data-collapsed={false} open={true}><summary style={{"textAlign":"left"}}><strong>Schema</strong></summary><div style={{"textAlign":"left","marginLeft":"1rem"}}></div><ul style={{"marginLeft":"1rem"}}><SchemaItem collapsible={false} name={"longFormDid"} required={false} deprecated={undefined} schemaDescription={"A long-form DID for the created DID"} schemaName={"string"} qualifierMessage={undefined} defaultValue={undefined}></SchemaItem></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{\n  \"longFormDid\": \"did:prism:1:abc123:abc123\"\n}"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem><TabItem label={"422"} value={"422"}><div>

The DID creation failed.

</div><div><MimeTabs schemaType={"response"}><TabItem label={"application/json"} value={"application/json"}><SchemaTabs><TabItem label={"Schema"} value={"Schema"}><details style={{}} data-collapsed={false} open={true}><summary style={{"textAlign":"left"}}><strong>Schema</strong></summary><div style={{"textAlign":"left","marginLeft":"1rem"}}></div><ul style={{"marginLeft":"1rem"}}><SchemaItem collapsible={false} name={"type"} required={false} deprecated={undefined} schemaDescription={"A URI reference that identifies the problem type."} schemaName={"string"} qualifierMessage={undefined} defaultValue={undefined}></SchemaItem><SchemaItem collapsible={false} name={"title"} required={false} deprecated={undefined} schemaDescription={"A short, human-readable summary of the problem type. It does not\nchange from occurrence to occurrence of the problem."} schemaName={"string"} qualifierMessage={undefined} defaultValue={undefined}></SchemaItem><SchemaItem collapsible={false} name={"status"} required={false} deprecated={undefined} schemaDescription={"The HTTP status code for this occurrence of the problem."} schemaName={"int32"} qualifierMessage={undefined} defaultValue={undefined}></SchemaItem><SchemaItem collapsible={false} name={"detail"} required={false} deprecated={undefined} schemaDescription={"A human-readable explanation specific to this occurrence of the problem."} schemaName={"string"} qualifierMessage={undefined} defaultValue={undefined}></SchemaItem><SchemaItem collapsible={false} name={"instance"} required={false} deprecated={undefined} schemaDescription={"A URI reference that identifies the specific occurrence of the problem.\nIt may or may not yield further information if dereferenced."} schemaName={"string"} qualifierMessage={undefined} defaultValue={undefined}></SchemaItem></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{\n  \"type\": \"https://example.org/doc/#model-MalformedEmail\",\n  \"title\": \"Malformed email\",\n  \"status\": 400,\n  \"detail\": \"The received '{}à!è@!.b}' email does not conform to the email format\",\n  \"instance\": \"/problems/d914e\"\n}"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem></ApiTabs></div>
      